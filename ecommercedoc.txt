(79)  Install Laravel8

composer create-project laravel/laravel ecommerce

php artisan serve

(80)  Install Laravel default authentication Jetstream

composer require laravel/jetstream
php artisan jetstream:install livewire

npm install && npm run dev


(81) Create database and migrate


using phpmyadmin create database ecommerce utf8mb4_general_ci

configure laravel mysql in .env like so
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=ecommerce
DB_USERNAME=root
DB_PASSWORD=root

to prevent failure on keylength with early mysql versions

Update your /app/Providers/AppServiceProvider.php to contain:

use Illuminate\Support\Facades\Schema;

/**
 * Bootstrap any application services.
 *
 * @return void
 */
public function boot()
{
    Schema::defaultStringLength(191);
}

php artisan migrate

Now I should get a basic landing page with login and register options

(97) Default Auth System profile Update

We alter dashboard.blade.php like so
<x-app-layout>
    <x-slot name="header">
        <h2 class="font-semibold text-xl text-gray-800 leading-tight">
        {{ Auth::user()->name }}
        </h2>
    </x-slot>

    <div class="py-12">

    </div>
</x-app-layout>

We can turn some Auth features on and off in config fortify.php
and config jetstream.php
in jetstream.php I uncomment profile photos like so to enable the display of profile photos
Features::profilePhotos(),
I also have to change APP_URL in .env to display photos like so
APP_URL=http://localhost:8000

Next I must run 
php artisan storage:link

Now I can add profile photos

(98)  Setup admin table and seed database

php artisan r:l gives me the Route List

Now I want to create the Admin authentication

So first I create an admin controller
php artisan make:controller AdminController

Next the model and migration
php artisan make:model Admin -m

Next I copy the fields from user migration into the admin migration
after that I copy the entire user model into the admin model then rename the class to Admin
after that I run the migration
php artisan migrate


Now I want to create a seeder for the Admin Database
so the first thing that I have to do is create a factory
php artisan make:factory AdminFactory

Next I open database factorys AdminFactory.php and UserFactory.php
and copy the return fields from UserFactory to AdminFactory as well as the use
next I change it like so
       return [
            'name' => 'Admin',
            'email' => 'admin@gmail.com',
            'email_verified_at' => now(),
            'password' => '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', // password
            'remember_token' => Str::random(10),
        ];

Next I open database seeder DatabaseSeeder.php and make it like so
    public function run()
    {
         \App\Models\Admin::factory()->create();
    }

Now I want migrate and seed like so
php artisan migrate --seed

now the one record was inserted into the table.

(99)  Creating Guards for Admin

first I open config auth.php and add the following lines of code
in the guards section 
       'admin' => [
            'driver' => 'session',
            'provider' => 'admins',
        ],
in the providers section
        'admins' => [
            'driver' => 'eloquent',
            'model' => App\Models\Admin::class,
        ],
In the password section 
        'admins' => [
            'provider' => 'admins',
            'table' => 'password_resets',
            'expire' => 60,
            'throttle' => 60,
        ],


Ctl p allows me to search fields

So first I search for and open AuthenticatedSessionController
Next I search for and open FortifyServiceProvider.php the one under App Providers
I changed the register function like so  
I copied the AttemptToAuthenticate and RedirectIfTwoFactorAuthenticatable from AuthenticatedSessionController
   public function register()
    {
        $this->app->when([AdminController::class, 
        AttemptToAuthenticate::class, 
        RedirectIfTwoFactorAuthenticatable::class, ])
        ->needs(StatefulGuard::class)
        ->give(function(){
            return Auth::guard('admin');
        });
    }

We also have to add the supporting use statements like so
use Illuminate\Contracts\Auth\StatefulGuard;
use Laravel\Fortify\Actions\AttemptToAuthenticate;
use Laravel\Fortify\Actions\RedirectIfTwoFactorAuthenticatable;
use App\Http\Controllers\AdminController;

now under app folder I create a new folder Guards and in this folder I create
AdminStatefulGuard.php
next I copy StatefulGuard.php into the new file and rename the interface to AdminStatefulGuard

(100)  Laravel 8 Mutli Auth Part 1

Next I the namespace in AdminStatefulGuard to
namespace App\Guards;

Next I copy everything from AuthenticatedSessionController to AdminController and I update the namespace and class name

Now in web.php I create routes and add a use for AdminController like so
use App\Http\Controllers\AdminController;
Route::group(['prefix'=> 'admin', 'middleware'=>['admin:admin']], function(){
    Route::get('/login', [AdminController::class, 'loginForm']); 
    Route::post('/login', [AdminController::class, 'store'])->name('admin.login'); 
});

We also add a middleware route like so
Route::middleware(['auth:sanctum,admin', 'verified'])->get('/admin/dashboard', function () {
    return view('dashboard');
})->name('dashboard');

Now I create the loginForm method in AdminController like so specifying that I will use the admin guard
    public function loginForm(){
        return view('auth.login', ['guard' => 'admin']);
    }

Next I open resources views auth login.blade.php and add some logic to the form action like so
    <form method="POST" action="{{ isset($guard) ? url($guard.'/login') : route('login') }}">
so if I specify a guard the link will be one thing else default

Next I copy from vendor laravel fortify src actions AttemptToAuthenticate.php and RedirectIfTwoFactorAuthenticatable.php into
app Actions Fortify
Next I change the namespace in both to
namespace App\Actions\Fortify;

(101)  Laravel 8 Mutli Auth Part 2


We now have to create the middleware

So in app providers RouteServiceProvider I create a function like so
   public static function redirectTo($guard){
        return $guard.'/dashboard';
    }
this points back to the web.php route that I created earlier

Next I open up app Http Middleware RedirectIfAuthenticated.php and change it to
redirect to $guard.'/dashboard' like so
  public function handle(Request $request, Closure $next, ...$guards)
    {
        $guards = empty($guards) ? [null] : $guards;

        foreach ($guards as $guard) {
            if (Auth::guard($guard)->check()) {
                return redirect($guard.'/dashboard');
            }
        }

        return $next($request);
    }

So now it could redirect to web/dashboard or admin/dashboard and do so dynamically

So now I want to save RedirectIfAuthenticated as AdminRedirectIfAuthenticated
and change the class name.

Next, I want to register AdminRedirectIfAuthenticated.php with app Http kernal.php like so
adding to the bottom in the protected Middleware array
'admin' => \App\Http\Middleware\AdminRedirectIfAuthenticated::class,

Next in the AdminController I make a call into vendor laravel fortify src http responses LoginResponse.php

So I will create a new folder app http Responses and clone LoginReponse into it.

Next I fix the namespace
and change the return redirect to go to admin/dashboard like so
    public function toResponse($request)
    {
        return $request->wantsJson()
                    ? response()->json(['two_factor' => false])
                    : redirect()->intended('admin/dashboard');
    }

Now if I test /login I recieve an error Class 'App\Providers\Auth' not found

To fix this I open App Providers FortifyServiceProvider and add the use statement for Auth

So now I get rid of the error but I can't log in because I are now checking the Admins file instead of users file for info so
So I need to alter the seeded Admins profile to use a known password

So now if I login as admin and then manually bring up admin/dashboard I get a dashboard showing the authenticated name.

Not very smooth at this point.

Now I logout and resolve to solve everything.


(102)  Laravel 8 Mutli Auth Part 3

so the admin user can login from login but the std user cant login
if I try /admin/login I get a class error admin.admin does not exist
so I go to web.php and change this 
Route::group(['prefix'=> 'admin', 'middleware'=>['admin.admin']], function(){
to this
Route::group(['prefix'=> 'admin', 'middleware'=>['admin:admin']], function(){
and I go back and fix instructions

So now the admin profile may login using admin/login but no redirect occurs yet to the dashboard


To get this to work I want to change the use in AdminController for LoginResponse
to point to the new LoginResponse that I created like so
use App\Http\Responses\LoginResponse;

So now admin can login from admin/login and redirect to dashboard.



(103)  Laravel 8 Mutli Auth Part 4

So now I need to correct App Providers FortifyServiceProvider.php to use some of the modified code like so
use App\Actions\Fortify\AttemptToAuthenticate;
use App\Actions\Fortify\RedirectIfTwoFactorAuthenticatable;

We must also change the same use statements in AdminController

So now if I go to login and login as myronrogers.rogers@gmail.com I are able to login as user and
redirect to user dashboard.

(104)  Page Redirect after logout

So in the AdminController I are referencing the LogoutResponse class like so
return app(LogoutResponse::class);

This is in vendor laravel fortify src http Responses LogoutResponse.php so I open it up and 
change the redirect to admin/login  like so
class LogoutResponse implements LogoutResponseContract
{
    /**
     * Create an HTTP response that represents the object.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Symfony\Component\HttpFoundation\Response
     */
    public function toResponse($request)
    {
        return $request->wantsJson()
                    ? new JsonResponse('', 204)
                    : redirect('/login');
    }


(105)  Download Auth source

(106)  Project Video

(107) Download excersise fields

(108) Section Intro 

(109) Admin Template Setup

From Ecommerce_Excersise_Files\Project Themes\Admin Theme\main-dark I want
to copy css, js, and scss to public and create folder backend and paste 
I also want to copy Admin Theme\images over to backend
Now I want to copy Admin Theme\assets to public

So next I want to create the resources views admin folder

Next I create admin_master.blade.php and index.blade.php

Under admin folder I want to create another folder body
and within body I want to create header.blade.php, footer.blade.php, and sidebar.php

Now I want to load Project Themes\Admin THemes\main-dark\index.html
and copy it into admin_master.blade.php

We change the title and update the css js paths
<titleEasy Ecommerce Admin - Dashboard</title>
    <link rel="icon" href="{{ asset('backend/images/favicon.ico') }}">

    <titleEasy Ecommerce Admin - Dashboard</title>
   
	<!-- Vendors Style-->
	<link rel="stylesheet" href="{{ asset('backend/css/vendors_css.css') }}">
	  
	<!-- Style-->  
	<link rel="stylesheet" href="{{ asset('backend/css/style.css') }}">
	<link rel="stylesheet" href="{{ asset('backend/css/skin_color.css') }}">

	<!-- Vendor JS -->
	<script src="{{ asset('backend/js/vendors.min.js') }}"></script>
    <script src="{{ asset('../assets/icons/feather-icons/feather.min.js') }}"></script>	
	<script src="{{ asset('../assets/vendor_components/easypiechart/dist/jquery.easypiechart.js') }}"></script>
	<script src="{{ asset('../assets/vendor_components/apexcharts-bundle/irregular-data-series.js') }}"></script>
	<script src="{{ asset('../assets/vendor_components/apexcharts-bundle/dist/apexcharts.js') }}"></script>
	
	<!-- Sunny Admin App -->
	<script src="{{ asset('backend/js/template.js') }}"></script>
	<script src="{{ asset('backend/js/pages/dashboard.js') }}"></script>

Next I cut div class container-full out and paste it into index.blade.php
now where I made the cut I will change the empty div to
        <div class="content-wrapper">

         @yield('admin')
         
        </div>

at the top of index.blade.php I will inserted
@extends('admin.admin_master')

Under that I will add the admin section id like so
@section('admin')

I also have to place the @endsection at the bottom


So now I want to load this new page in web.php like so
making the returned view admin.index
Route::middleware(['auth:sanctum,admin', 'verified'])->get('/admin/dashboard', function () {
    return view('admin.index');
})->name('dashboard');

So now if I login as admin I get the new dashboard page

(110) Dashboard Page Segmentation

So first I cut out of admin_master <header class="main-header"> and paste into header.blade.php
then I add an include in it's place   @include('admin.body.header')

Now I want to do the same for sidebar and footer for sidebar
   @include('admin.body.sidebar')
   @include('admin.body.footer')

Next I remove control class control-sidebar

So next in header
<img src="{{ asset('backend/images/avatar/1.jpg') }}" alt="">

In sidebar
<h3><b>Easy</b> Shop</h3>
<img src="{{ asset('backend/images/logo-dark.png') }}" alt="">


(111) Admin Logout option

In header
<a class="dropdown-item" href="{{ route('admin.logout') }}"><i class="ti-lock text-muted mr-2"></i> Logout</a>
 
In web.php
// Admin All Routes

Route::get('//admin/logout', [AdminController::class, 'destroy'])->name('admin.logout'); 

destroy method already exists in AdminController

(112) Customize Login form

So I open from the main-dark theme directory auth_login.html and copy it to
resources views auth admin_login.blade.php  

We update the js and css links

Next I want to change the return view from loginForm AdminController like so
public function loginForm(){
        return view('auth.admin_login', ['guard' => 'admin']);
    }

so if I test admin/login I will see the new page

to get it working I copy the form tag and @csrf from login.blade.php over the 
static form tag in admin_login.blade.php

next I want the field id's etc from login to get copied over.
along with the forgotten password route

(113) Refresh Admin Template

So I cut alot out of Index.blade.php and updated the image links

And I updated the footer like so
<footer class="main-footer">
            <div class="pull-right d-none d-sm-inline-block">
                <ul class="nav nav-primary nav-dotted nav-dot-separated justify-content-center justify-content-md-end">
                    <li class="nav-item">
                        <a class="nav-link" href="javascript:void(0)">FAQ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">www.google.com</a>
                    </li>
                </ul>
            </div>
            &copy; 2020 <a href="#">Easy Shop</a>. All Rights Reserved.
        </footer>

(114)  Admin and Profile & Image Update Part 1

Profile name email address etc

First I add the link to admin profile in header.blade
<a class="dropdown-item" href="{{ route('admin.profile')  }}"><i class="ti-user text-muted mr-2"></i> Profile</a>

Next I create a new Controller
php artisan make:controller Backend/AdminProfileController


Next I add the route in web.php
use App\Http\Controllers\Backend\AdminProfileController;
Route::get('/admin/profile', [AdminProfileController::class, 'AdminProfile'])->name('admin.profile'); 

Next I add the method to Controller
    public function AdminProfile(){
        $adminData = Admin::find(1);
        return view('admin.admin_profile_view', compact('adminData'));

    }

Next I create the returned view in the admin folder 
admin_profile_view.blade.php
I paste in index 
then cut it down to this
@extends('admin.admin_master')
@section('admin')

<div class="container-full">

    <!-- Main content -->
    <section class="content">
        <div class="row">

        </div>
    </section>
    <!-- /.content -->
</div>
@endsection

Next I copy box box-widget widget-user from profile.html
I cut out the backgound style
I drop in the Admin name and email and photos and profile edit button
<h3 class="widget-user-username">Admin Name: {{ $adminData->name }}</h3>
<h6 class="widget-user-desc">Admin Email: {{ $adminData->email }}</h6>
<img class="rounded-circle" src="{{ (!empty($adminData->profile_photo_path))?
url('upload/admin_images/'.$adminData->profile_photo_path):url('upload/no_image.jpg') }}" alt="User Avatar">
<a href="" style="float: right;" class="btn btn-rounded btn-success mb-5">Edit Profile</a>
We create the upload folder public upload admin_images
and copy no_image.jpg to public_upload

When I test I get no_image.jpg

(115)  Admin and Profile & Image Update Part 2

First I create a link in admin_profile_view to edit profile using the button created in the previous excercise
<a href="{{ route('admin.profile.edit') }}" style="float: right;" class="btn btn-rounded btn-success mb-5">Edit Profile</a>

Web.php
Route::get('/admin/profile/edit', [AdminProfileController::class, 'AdminProfileEdit'])->name('admin.profile.edit'); 


AdminProfileController
    public function AdminProfileEdit(){
        $editData = Admin::find(1);
        return view('admin.admin_profile_edit', compact('editData'));
    }


resources views admin create admin_profile_edit from admin_profile_view
I remove the section class content and replace it with main content from forms_validation.html

If I log into admin and select profile then the edit button I should see the new page

Now I need to pare it down to two fields email, file upload and an update button

(116)  Admin and Profile & Image Update Part 3

Now I add a script to manipulate an image so I start with giving both of the images
in admin_profile_edit id's.  Next I write the script like so and add the jQuery cdn
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
    $('#image').change(function(e){
        var reader = new FileReader();
        reader.onload = function(e){
            $('#showImage').attr('src',e.target.result);
        }
        reader.readAsDataURL(e.target.files['0']);
    });
});
</script>

Now when I select an image it displays even before I upload

(117)  Admin and Profile & Image Update Part 4

Now I make more changes to admin_profile_edit so that it updates data.


web.php
Route::post('/admin/profile/store', [AdminProfileController::class, 'AdminProfileStore'])->name('admin.profile.store'); 

AdminProfileController
    public function AdminProfileStore(Request $request){
        $data = Admin::find(1);
        $data->name = $request->name;
        $data->email = $request->email;

        if ($request->file('profile_photo_path')) {
            $file = $request->file('profile_photo_path');
            $unlink(public_path('upload/admin_images'.$data->profile_photo_path));
            $filename = date('YmdHi').$file->getClientOriginalName();
            $file->move(public_path('upload/admin_images'),$filename);
            $data['profile_photo_path'] = $filename;
        }
        $data->save();
        return redirect()->route('admin.profile');
    }

Now if I update image the new image is displayed

To display the image in header I update the image source to be like admin_profile_view and add some
php inline in the header like so
                        @php 
                        $adminData = DB::table('admins')->first();
                        @endphp
<img src="{{ (!empty($adminData->profile_photo_path))?
    url('upload/admin_images/'.$adminData->profile_photo_path):url('upload/no_image.jpg') }}" alt="">
 

(118)  Adding Toastr in for View Message

We make changes to admin profile controller for Toastr
    public function AdminProfileStore(Request $request){
        $data = Admin::find(1);
        $data->name = $request->name;
        $data->email = $request->email;

        if ($request->file('profile_photo_path')) {
            $file = $request->file('profile_photo_path');
            $filename = date('YmdHi').$file->getClientOriginalName();
            $file->move(public_path('upload/admin_images'),$filename);
            $data['profile_photo_path'] = $filename;
        }
        $data->save();

        $notification = array(
            'message' => 'Admin Profile Updated Successfully',
            'alert-type' => 'success'
        );
        return redirect()->route('admin.profile')->with($notification);
    }

and I make changes to admin_master.blade.php
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.css" integrity="sha512-3pIirOrwegjM6erE5gPSwkUzO+3cTjpnV9lexlNZqvupR64iZBnOOTiiLPb9M36zpMScbmUNIcHUqKD47M719g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js" integrity="sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>     
 
    <script>
 
   @if(Session::has('message')) {

  var type = "{{ Session::get('alert-type' , 'info') }}";
  switch(type){
    case 'info':
    toastr.info(" {{ Session::get('message') }}");
    break;

    case 'success':
      toastr.success(" {{ Session::get('message') }}");  
    
    break;

    case 'warning':
    toastr.warning(" {{ Session::get('message') }}");
    break;

    case 'error':
    toastr.error(" {{ Session::get('message') }}");
    break;
  }
  }
  @endif
  </script>  

(119) Admin Profile Change Password Part 1

header.blade.php
<a class="dropdown-item" href="{{ route('admin.change.password')  }}"><i class="ti-wallet text-muted mr-2"></i> Change Password</a>

web.php
Route::get('/admin/change/password', [AdminProfileController::class, 'AdminChangePassword'])->name('admin.change.password'); 

create admin admin_change_password.blade.php and copy admin_profile_edit.blade.php
and edit


AdminProfileController
    public function AdminChangePassword(){
        return view('admin.admin_change_password');
    }

web.php
Route::post('/update/change/password', [AdminProfileController::class, 'AdminUpdateChangePassword'])->name('update.change.password'); 


(110) Admin Profile Change Password Part 2

AdminProfileController.php
    public function AdminUpdateChangePassword(Request $request){
        $validateData = $request->validate([
            'current_password' => 'required',
            'password' => 'required|confirmed',
        ]);

        $hashedPassword = Admin::find(1)->password;
        if (Hash::check($request->current_password, $hashedPassword)) {
            $admin = Admin::find(1);
            $admin->password = Hash::make($request->password);
            $admin->save();
            Auth::logout();
            return redirect()->route('admin.logout');
        }else{
            return redirect()->back();
        }
        

        
    }


(121)  Frontend Template Setup Part 1

First I create a new folder under views called frontend.
In frontend I create two files
main_master.blade.php
index.blade.php
then I create a folder
body
next from the frontend template I copy home.html src into main_master
next I copy assets folder to public frontend

Now I update the links in main_master to point at the assets folder in public frontend

Now I cut header out of main_master and paste it into body header.blade.php
I also create two more new files footer.blade.php and brand.blade.php

Next I include back into main_master 
@include('frontend.body.header')

Next I paste the main body into index.blade.php
and extend it and wrap it in a section
@extends('frontend.main.master')
@section('content')
@endsection

Now in main_master I want to yield content
@yield('content')

Next I want to cut out footer and paste it into footer then include it back in
@include('frontend.body.footer')

web.php
Route::get('/', [IndexController::class, 'index']);


(122)  Frontend Template Setup Part 2

Now I create IndexController
php artisan make:controller Frontend/IndexController
and add the use to web.php
use App\Http\Controllers\Frontend\IndexController;
and remove the welcome route at the top

Now I create the index function in IndexController
    public function index(){
        return view('frontend.index');
    }

Now are page should load

Now I go back through and update all of the image links that I ignored
earlier check for console log errors on missing stuff and update the links

Now I cut the brands carousel out of the bottom of index and paste it into brands
then I include it back in
       @include('frontend.body.brands')

(123) Frontend Template Login Setup

frontend Theme sign-in.html is an all in one registerxxxx

First I open Auth login.blade.php and bak it up then clear it.  Next I fill it in with
@extends('frontend.main_master')
@section('content')

@endsection


We copy frontend Theme sign-in.html starting after header end
to just before footer begins into the new section in login

now the new login will display

Next I cut out brands and copy include from index
      @include('frontend.body.brands')

Now I copy the form tag from the origional and paste it in replacing the form tag
       <form method="POST" action="{{ isset($guard) ? url($guard.'/login') : route('login') }}">
            @csrf

Next I update field names and id's and the forgot password route like so
                        <form method="POST" action="{{ isset($guard) ? url($guard.'/login') : route('login') }}">
                            @csrf
                            <div class="form-group">
                                <label class="info-title" for="email">Email Address <span>*</span></label>
                                <input type="email" class="form-control unicase-form-control text-input"
                                    id="email" name="email">
                            </div>
                            <div class="form-group">
                                <label class="info-title" for="password">Password <span>*</span></label>
                                <input type="password" class="form-control unicase-form-control text-input"
                                    id="password" name="password">
                            </div>
                            <div class="radio outer-xs">
                                <label>
                                    <input type="radio" name="optionsRadios" id="optionsRadios2" value="option2">Remember
                                    me!
                                </label>
                                <a href="{{ route('password.request') }}" class="forgot-password pull-right">Forgot your Password?</a>
                            </div>
                            <button type="submit" class="btn-upper btn btn-primary checkout-page-button">Login</button>
                        </form>

Now I should be able to login to dashboard page with user

(124) Frontend Template Register Page Setup

Now to make the dual form in login.blade.php work I have to copy the form tag from register.blade.php
and paste it over the second form tag in login
       <form method="POST" action="{{ route('register') }}">
            @csrf
Now I change the field names types and id's to match the old register form like so
                        <form method="POST" action="{{ route('register') }}">
                            @csrf
                            <div class="form-group">
                                <label class="info-title" for="name">Name <span>*</span></label>
                                <input type="text" class="form-control unicase-form-control text-input" id="name"
                                    name="name">
                            </div>
                            <div class="form-group">
                                <label class="info-title" for="email">Email Address <span>*</span></label>
                                <input type="email" class="form-control unicase-form-control text-input" id="email"
                                    id="email">
                            </div>
                            <div class="form-group">
                                <label class="info-title" for="phone">Phone Number <span>*</span></label>
                                <input type="text" class="form-control unicase-form-control text-input" id="phone"
                                    name="phone">
                            </div>
                            <div class="form-group">
                                <label class="info-title" for="password">Password <span>*</span></label>
                                <input type="password" class="form-control unicase-form-control text-input" id="password"
                                    name="password">
                            </div>
                            <div class="form-group">
                                <label class="info-title" for="password_confirmation">Confirm Password
                                    <span>*</span></label>
                                <input type="phone" class="form-control unicase-form-control text-input"
                                    id="password_confirmation" name="password_confirmation">
                            </div>
                            <button type="submit" class="btn-upper btn btn-primary checkout-page-button">Sign Up</button>
                        </form>

Next I manually add phone in phpmyadmin to avoid running new migration

Next I add phone to User Model
  protected $fillable = [
        'name',
        'email',
        'phone',
        'password',
    ];

Next in App Actions Fortify CreateNewUser Validator and User arrays
       Validator::make($input, [
            'name' => ['required', 'string', 'max:255'],
            'email' => ['required', 'string', 'email', 'max:255', 'unique:users'],
            'phone' => ['required', 'string', 'max:255'],
            'password' => $this->passwordRules(),
            'terms' => Jetstream::hasTermsAndPrivacyPolicyFeature() ? ['required', 'accepted'] : '',
        ])->validate();

        return User::create([
            'name' => $input['name'],
            'email' => $input['email'],
            'phone' => $input['phone'],
            'password' => Hash::make($input['password']),
        ]);

Now I want to update error checking for all Registration fields like so
                            <div class="form-group">
                                <label class="info-title" for="name">Name <span>*</span></label>
                                <input type="text" class="form-control unicase-form-control text-input" id="name"
                                    name="name">
                                    @error('name')
                                    <span class="invalid-feedback" role="alert">
                                    <strong>{{ $message }}</strong>
                                    </span>
                                    @enderror    
                            </div>

Now I can register and login

Next copy login.blade.php to register.blade.php

Now in frontend body header.blade.php I update the Login item like so
<li><a href="{{ route('login') }}"><i class="icon fa fa-lock"></i>Login/Register</a></li>
and I want to update the logo like so
<div class="logo"> <a href="{{ url('/') }}"> <img src="{{ asset('frontend/assets/images/logo.png') }}" alt="logo"> </a> </div>

Now when I click on logo I are redirected home


Next to make the login/register link display at approriate times I change the link
in header like so and it is half axxed
              @auth
              <li><a href="{{ route('login') }}"><i class="icon fa fa-user"></i>User Profile</a></li>
                @else
              <li><a href="{{ route('login') }}"><i class="icon fa fa-lock"></i>Login/Register</a></li> 
              @endauth

(125) Frontend Template Forgot Password Page Setup

So I back up the forgot-password.blade clear it copy in login delete Registration
and pare login down to email then paste in the form tag from the back up
and change the button text
@extends('frontend.main_master')
@section('content')
    <div class="breadcrumb">
        <div class="container">
            <div class="breadcrumb-inner">
                <ul class="list-inline list-unstyled">
                    <li><a href="home.html">Home</a></li>
                    <li class='active'>Forgot Password</li>
                </ul>
            </div><!-- /.breadcrumb-inner -->
        </div><!-- /.container -->
    </div><!-- /.breadcrumb -->

    <div class="body-content">
        <div class="container">
            <div class="sign-in-page">
                <div class="row">
                    <!-- Sign-in -->
                    <div class="col-md-6 col-sm-6 sign-in">
                        <h4 class="">Forgot Password</h4>
                        <p class="">Reset Password</p>
                        <form method="POST" action="{{ route('password.email') }}">
                            @csrf                                            <div class="form-group">
                                <label class="info-title" for="email">Email Address <span>*</span></label>
                                <input type="email" class="form-control unicase-form-control text-input" id="email"
                                    name="email">
                            </div>
                             <button type="submit" class="btn-upper btn btn-primary checkout-page-button">Email Password Reset Link</button>
                        </form>
                    </div>
                    <!-- Sign-in -->

                </div><!-- /.row -->
            </div><!-- /.sigin-in-->
            <!-- ============================================== BRANDS CAROUSEL ============================================== -->
            @include('frontend.body.brands')
            <!-- ============================================== BRANDS CAROUSEL : END ============================================== -->
        </div><!-- /.container -->
    </div><!-- /.body-content -->

@endsection

Now I set up mailtrap IO.  In the .env file I change SMTP config 
from
MAIL_MAILER=smtp
MAIL_HOST=mailhog
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS=null
MAIL_FROM_NAME="${APP_NAME}"
to
MAIL_MAILER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=c898f6d70b026f
MAIL_PASSWORD=e02786a0404b6a
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS=myronrogers.rogers@gmail.com
MAIL_FROM_NAME="${APP_NAME}"

Now I want to back up reset-password blade clear it and copy in forgot-password.blade
We change the heading text copy in the form tag and token field from the backup 
then I clone email to 3 fields
I change the field names ids field types and button text like so
@extends('frontend.main_master')
@section('content')
    <div class="breadcrumb">
        <div class="container">
            <div class="breadcrumb-inner">
                <ul class="list-inline list-unstyled">
                    <li><a href="home.html">Home</a></li>
                    <li class='active'>Reset Password</li>
                </ul>
            </div><!-- /.breadcrumb-inner -->
        </div><!-- /.container -->
    </div><!-- /.breadcrumb -->

    <div class="body-content">
        <div class="container">
            <div class="sign-in-page">
                <div class="row">
                    <!-- Sign-in -->
                    <div class="col-md-6 col-sm-6 sign-in">
                        <h4 class="">Reset Password</h4>

                        <form method="POST" action="{{ route('password.update') }}">
                            @csrf
                
                            <input type="hidden" name="token" value="{{ $request->route('token') }}">
                
                            <div class="form-group">
                                <label class="info-title" for="email">Email Address <span>*</span></label>
                                <input type="email" class="form-control unicase-form-control text-input" id="email"
                                    name="email">
                            </div>
                            <div class="form-group">
                                <label class="info-title" for="password">Password <span>*</span></label>
                                <input type="password" class="form-control unicase-form-control text-input" id="password"
                                    name="password">
                            </div>
                            <div class="form-group">
                                <label class="info-title" for="password_confirmation">Confirm Password
                                    <span>*</span></label>
                                <input type="password" class="form-control unicase-form-control text-input"
                                    id="password_confirmation" name="password_confirmation">
                            </div>
                            <button type="submit" class="btn-upper btn btn-primary checkout-page-button">Reset
                                Password</button>
                        </form>
                    </div>
                    <!-- Sign-in -->

                </div><!-- /.row -->
            </div><!-- /.sigin-in-->
            <!-- ============================================== BRANDS CAROUSEL ============================================== -->
            @include('frontend.body.brands')
            <!-- ============================================== BRANDS CAROUSEL : END ============================================== -->
        </div><!-- /.container -->
    </div><!-- /.body-content -->

@endsection


So now I can test password reset full circle

(126) User Profile Design Part 1

To change the dashboard I clear dashboard.blade.php and extend it then code it by hand like so 
@extends('frontend.main_master')
@section('content')
<div class="body-content">
    <div class="container">
        <div class="row">
            <div class="col-md-2"><br>
                <img class="card-img-top" style="border-radius: 50%" src="{{ (!empty($editData->profile_photo_path))?
                    url('upload/admin_images/'.$editData->profile_photo_path):url('upload/no_image.jpg') }}" height="100%" width="100%"><br><br>
                    <ul class="list-group list-group-flush">
                        <a href="" class="btn btn-primary btn-sm btn-block">Home</a>
                        <a href="" class="btn btn-primary btn-sm btn-block">Profile Update</a>
                        <a href="" class="btn btn-primary btn-sm btn-block">Change Password</a>
                        <a href="{{ route('user.logout') }}" class="btn btn-danger btn-sm btn-block">Logout</a>
                    </ul>
            </div>
            <div class="col-md-2">
            </div>
            <div class="col-md-6">
                <div class="card">
                    <h3 class="text-center"><span class="text-danger">Hi...</span><strong>{{ 
                        Auth::user()->name }}</strong> Welcome to Easy Online Shop </h3>
                </div>
            </div>

 
        </div>
    </div>
</div>

@endsection

(127) User Profile Design Part 2

Now I want to code the logout button.  
<a href="{{ route('user.logout') }}" class="btn btn-danger btn-sm btn-block">Logout</a>

web.php
Route::get('/user/logout', [IndexController::class, 'UserLogout'])->name('user.logout'); 

IndexController
use Illuminate\Support\Facades\Auth;
   public function UserLogout() {
        Auth::logout();
        return Redirect()->route('login');
    }

Now I want to code Profile Update button
<a href="{{ route('user.profile') }}" class="btn btn-primary btn-sm btn-block">Profile Update</a>

web.php
Route::get('/user/profile', [IndexController::class, 'UserProfile'])->name('user.profile'); 

IndexController
   public function UserProfile() {
        $id = Auth::user()->id;
        $user = User::find($id);
        return view('frontend.profile.user_profile',compact('user'));
    }

resources views frontend CREATE profile CREATE user_profile.blade.php

(128) User Profile Design Part 3

Now I copy dashboard to user_profile and test.
Next I modify it like so.
@extends('frontend.main_master')
@section('content')
<div class="body-content">
    <div class="container">
        <div class="row">
            <div class="col-md-2"><br>
                <img class="card-img-top" style="border-radius: 50%" src="{{ (!empty($editData->profile_photo_path))?
                    url('upload/admin_images/'.$editData->profile_photo_path):url('upload/no_image.jpg') }}" height="100%" width="100%"><br><br>
                    <ul class="list-group list-group-flush">
                        <a href="" class="btn btn-primary btn-sm btn-block">Home</a>
                        <a href="{{ route('user.profile') }}" class="btn btn-primary btn-sm btn-block">Profile Update</a>
                        <a href="" class="btn btn-primary btn-sm btn-block">Change Password</a>
                        <a href="{{ route('user.logout') }}" class="btn btn-danger btn-sm btn-block">Logout</a>
                    </ul>
            </div>
            <div class="col-md-2">
            </div>
            <div class="col-md-6">
                <div class="card">
                    <h3 class="text-center"><span class="text-danger">Hi...</span><strong>{{ 
                        Auth::user()->name }}</strong> Update Profile </h3>
                        <div class="card-body">
                            <form method="POST" action="{{ route('user.profile.store') }}" enctype="multipart/form-data">
                                @csrf
                                <div class="form-group">
                                    <label class="info-title" for="name">Name <span></span></label>
                                    <input type="text" class="form-control" id="name"
                                        name="name" value="{{ $user->name }}">
                                </div>
                                <div class="form-group">
                                    <label class="info-title" for="email">Email <span></span></label>
                                    <input type="email" class="form-control" id="email"
                                        name="email" value="{{ $user->email }}">
                                </div>
                                <div class="form-group">
                                    <label class="info-title" for="phone">Phone <span></span></label>
                                    <input type="text" class="form-control" id="phone"
                                        name="phone" value="{{ $user->phone }}">
                                </div>
                                <div class="form-group">
                                    <label class="info-title" for="profile_photo_path">Profile Photo <span></span></label>
                                    <input type="file" class="form-control" id="profile_photo_path"
                                        name="profile_photo_path" >
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="btn btn-danger">Update Profile</button>
                                </div>

                            </form>
    
                        </div>
                </div>
            </div>

 
        </div>
    </div>
</div>

@endsection

web.php
Route::post('/user/profile/store', [IndexController::class, 'UserProfileStore'])->name('user.profile.store'); 

IndexController
   public function UserProfileStore(Request $request){
        $data = User::find(Auth::user()->id);
        $data->name = $request->name;
        $data->email = $request->email;
        $data->phone = $request->phone;

        if ($request->file('profile_photo_path')) {
            $file = $request->file('profile_photo_path');
         //   unlink(public_path('upload/user_images/'.$data->profile_photo_path));
            $filename = date('YmdHi').$file->getClientOriginalName();
            $file->move(public_path('upload/user_images'),$filename);
            $data['profile_photo_path'] = $filename;
        }
        $data->save();

        $notification = array(
            'message' => 'User Profile Updated Successfully',
            'alert-type' => 'success'
        );
        return redirect()->route('dashboard')->with($notification);

    }
}

user_profile.blade
                <img class="card-img-top" style="border-radius: 50%" src="{{ (!empty($user->profile_photo_path))?
                    url('upload/user_images/'.$user->profile_photo_path):url('upload/no_image.jpg') }}" height="100%" width="100%"><br><br>
                    <ul class="list-group list-group-flush">
                        <a href="{{ route('dashboard') }}" class="btn btn-primary btn-sm btn-block">Home</a>


To show the profile image on dashboard
web.php
use App\Models\User;
use Illuminate\Support\Facades\Auth;
Route::middleware(['auth:sanctum', 'verified'])->get('/dashboard', function () {
    $id = Auth::user()->id;
    $user = User::find($id);
    return view('dashboard',compact('user'));
})->name('dashboard');

dashboard.blade
<img class="card-img-top" style="border-radius: 50%" src="{{ (!empty($user->profile_photo_path))?
    url('upload/user_images/'.$user->profile_photo_path):url('upload/no_image.jpg') }}" height="100%" width="100%"><br><br>

(129) Toastr Alert Add Toastr Alert

I had to copy the toastr stuff from admin_master.blade to main_master.blade


(130) User Profile Password Change Part 1

From user.profile.blade.php I copy the following into dashboard.blade.php
<ul class="list-group list-group-flush">
    <a href="" class="btn btn-primary btn-sm btn-block">Home</a>
    <a href="{{ route('user.profile') }}" class="btn btn-primary btn-sm btn-block">Profile Update</a>
    <a href="" class="btn btn-primary btn-sm btn-block">Change Password</a>
    <a href="{{ route('user.logout') }}" class="btn btn-danger btn-sm btn-block">Logout</a>
</ul>

Next I add a route to change password like so
<a href="{{ route('change.password') }}" class="btn btn-primary btn-sm btn-block">Change Password</a>

Next in web.php I add the following route
Route::get('/user/change/password', [IndexController::class, 'UserChangePassword'])->name('change.password'); 

Next, in IndexController I add the UserChangePassord method and return the view and pass along the user data
     public function UserChangePassword(){
        $id = Auth::user()->id;
        $user = User::find($id);
        return view('frontend.profile.change_password',compact('user'));
    }

Next I create the view under frontend/profile change_password.blade.php
and copy user_profile.blade.php into it.

Next I make the nameing conventions for the password fields the same as update-password-form.php
 I remove the photo field and change the rest.  I have made an example entry showing how to do the user data retrieval from within the blade 
 instead of the controller.
 @extends('frontend.main_master')
@section('content')
<!-- @php
    $user = DB::table('users')->where('id',Auth::user()->id)->first();
@endphp -->
<div class="body-content">
    <div class="container">
        <div class="row">
            <div class="col-md-2"><br>
                <img class="card-img-top" style="border-radius: 50%" src="{{ (!empty($user->profile_photo_path))?
                    url('upload/user_images/'.$user->profile_photo_path):url('upload/no_image.jpg') }}" height="100%" width="100%"><br><br>
                    <ul class="list-group list-group-flush">
                        <a href="{{ route('dashboard') }}" class="btn btn-primary btn-sm btn-block">Home</a>
                        <a href="{{ route('user.profile') }}" class="btn btn-primary btn-sm btn-block">Profile Update</a>
                        <a href="" class="btn btn-primary btn-sm btn-block">Change Password</a>
                        <a href="{{ route('user.logout') }}" class="btn btn-danger btn-sm btn-block">Logout</a>
                    </ul>
            </div>
            <div class="col-md-2">
            </div>
            <div class="col-md-6">
                <div class="card">
                    <h3 class="text-center"><span class="text-danger">Change Password</span><strong></strong></h3>
                        <div class="card-body">
                            <form method="POST" action="{{ route('user.profile.store') }}" enctype="multipart/form-data">
                                @csrf
                                <div class="form-group">
                                    <label class="info-title" for="current_password">Current Password<span></span></label>
                                    <input type="password" class="form-control" id="current_password"
                                        name="current_password" >
                                </div>
                                <div class="form-group">
                                    <label class="info-title" for="password">New Password<span></span></label>
                                    <input type="password" class="form-control" id="password"
                                        name="password" >
                                </div>
                                <div class="form-group">
                                    <label class="info-title" for="password_confirmation">Confirm Password<span></span></label>
                                    <input type="password" class="form-control" id="password_confirmation"
                                        name="password_confirmation" >
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="btn btn-danger">Update Profile</button>
                                </div>

                            </form>
    
                        </div>
                </div>
            </div>

 
        </div>
    </div>
</div>

@endsection


(131) User Profile Password Change Part 2



First I will change the form tag in change_password like so
<form method="POST" action="{{ route('user.password.update') }}">


Next I create the user.password.update route in web.php using a post 
Route::post('/user/password/update', [IndexController::class, 'UserPasswordUpdate'])->name('user.password.update'); 

Next I create the UserPasswordUpdate in IndexController so I copy AdminUpdateChangePassword from AdminController and change it like so
use Illuminate\Support\Facades\Hash;
   public function UserPasswordUpdate(Request $request){
        $validateData = $request->validate([
            'current_password' => 'required',
            'password' => 'required|confirmed',
        ]);

        $hashedPassword = Auth::user()->password;
        if (Hash::check($request->current_password, $hashedPassword)) {
            $user = User::find(Auth::id());
            $user->password = Hash::make($request->password);
            $user->save();
            Auth::logout();
            return redirect()->route('user.logout');
        }else{
            return redirect()->back();
        }
    }

The next thing I want to flush out is the Change password option in user_profile.blade.php
 <a href="{{ route('change.password') }}" class="btn btn-primary btn-sm btn-block">Change Password</a>

Since I have completed this menu I now want to copy the change password li to change_password.blade.php

(132) Upload Project to Github.

Go to github and create a new project by selecting the New button
Enter the project name and click the Create Repository button
on the next page select the text under ... or create a new repository on the command lines
git init
git add .
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/wunmansho/ecommerce.git
git push -u origin main

Next go to the ecommerce project directory in windows then right click and select git bash to 
open a bash session.
Do this to configure git should only have to do this once unless you need a 
local project configuration for a differant repository
  git config --global user.email "wunmansho.wunmansho@gmail.com"
  git config --global user.name "Myron Rogers"


Copy and paste the commands one at a time from the text above.
NOTE the git add command must be git add . with the period

(133)  Brand Page Design Part 1

We start by adding the Admin Backend

First I create the Controller
php artisan make:controller Backend/BrandController

Next I create the model and migration table
php artisan make:model Brand -m

Now I go to the brand migration and add fields like so
    public function up()
    {
        Schema::create('brands', function (Blueprint $table) {
            $table->id();
            $table->string('brand_name_en');
            $table->string('brand_name_hin');
            $table->string('brand_slug_en');
            $table->string('brand_slug_hin');
            $table->string('brand_image');
            $table->timestamps();
        });
    }

Next I go and modify the Model
class Brand extends Model
{
    use HasFactory;
    protected $fillable = [
        'brand_name_en',
        'brand_name_hin',
        'brand_slug_en',
        'brand_slug_hin',
        'brand_image',
    ];

}

Next to create the table I will run the migration
php artisan migrate

from admin body sidebar.blade.php I start by converting the application menu from the template into the Brand menu
                   <li class="treeview">
                        <a href="#">
                            <i data-feather="message-circle"></i>
                            <span>Brands</span>
                            <span class="pull-right-container">
                                <i class="fa fa-angle-right pull-right"></i>
                            </span>
                        </a>
                        <ul class="treeview-menu">
                            <li><a href="{{ route('all.brand') }}"><i class="ti-more"></i>All Brand</a></li>
                        </ul>
                    </li>

Next I add the all.brand route to web.php
Note since I used the prefix option the route will be /brand/view rather than view. So I add the new Controller and create the route
use App\Http\Controllers\Backend\BrandController;

Route::prefix('brand')->group(function(){
    Route::get('/view', [BrandController::class, 'BrandView'])->name('all.brand'); 
});


Next in BrandController I want to add the model and the BrandView function.
use App\Models\Brand;
class BrandController extends Controller
{
    public function BrandView(){
        $brands = Brand::latest()->get();
        return view('backend.brand.brand_view',compact('brands'));
    }
}


Next I need to create the backend folder under views and brand folder under backend 
and then create brand_view.blade.php
I copy in the bare bone basics like so and test to see that I hit a page when I click the new link from Admin Dashboard
@extends('admin.admin_master')
@section('admin')


@endsection


(134)  Brand Page Design Part 2

So now I want place use a template for the new page ao I go to
C:\servers\wamp64\www\laravel8\Ecommerce_Excersise_Files\Project Themes\Admin Theme\main-dark
and select tables_data.html
We copy the content wrapper from this page and paste into brand_view

Now I remove the content wrapper begin and end tags becuase I already have that wrapper
and pare this down to The Data Table with full features example.

Now to support the tables I need to copy a couple of js files from the template and
paste them into admin_master and modify the source attributes to use laravel API's.
  <script src=""{{ asset('../assets/vendor_components/datatable/datatables.min.js') }}"></script>
	  <script src=""{{ asset('backend/js/pages/data-table.js') }}"></script>

Now if I refresh the page to test I should be able to see the pagination and search options work.

Now I want to make the data Dynamic so I cut out static data from the table.
So I remove everything except the th and one tr.  We also delete the tfoot.


(135)  Brand Page Design Part 3


Now I want to add another card that will allow me to insert a new brand.

Once I have completed this and added a route for the form update the page is like so
@extends('admin.admin_master')
@section('admin')
    <div class="container-full">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <section class="content">
            <div class="row">

                <div class="col-8">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Brand List</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <table id="example1" class="table table-bordered table-striped">
                                    <thead>

                                        <tr>
                                            <th>Brand En</th>
                                            <th>Brand Hin</th>
                                            <th>Image</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach ($brands as $item)
                                            <tr>
                                                <td>{{ $item->brand_name_en }}</td>
                                                <td>{{ $item->brand_name_hin }}</td>
                                                <td><img src="{{ asset($item->brand_image) }}"
                                                        style="width: 70px; height: 40px;"></td>
                                                <td>
                                                    <a href="" class="btn btn-info">Edit</a>
                                                    <a href="" class="btn btn-info">Delete</a>
                                                </td>
                                            </tr>
                                        @endforeach
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>
                <!-- /.col -->
                <!-- -------------- Add Brand Page ---------------- -->
                <div class="col-4">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Add Brand</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <form method="post" action="{{ route('brand.store') }}" enctype="multipart/form-data">
                                    @csrf
                                                <div class="form-group">
                                                    <h5>Brand Name English <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="brand_name_en" name="brand_name_en"
                                                            class="form-control">
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <h5>Brand Name Hindi <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="brand_name_hin" name="brand_name_hin"
                                                            class="form-control">
                                                    </div>
                                                </div>


                                                <div class="form-group">
                                                    <h5>Brand Image <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="file" id="brand_image"
                                                            name="brand_image" class="form-control">
                                                    </div>
                                                </div>    
                                                <div class="form-group">
                                                    <h5>Confirm Passord <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="password_confirmation"
                                                            name="password_confirmation" class="form-control">
                                                    </div>
                                                </div>                                      
                                    <div class="text-xs-right">
                                        <input type="submit" class="btn btn-rounded btn-primary mb-5" value="Add Brand">
                                    </div>
                                </form>

                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>

            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->
    </div>


@endsection

Now I must add the brand.store route from the add form to web.php
   Route::get('/store', [BrandController::class, 'BrandStore'])->name('brand.store'); 

Next I create the BrandStore method in BrandController
I will add functionality to it in the next section

(136)  Add Active Sidebar menu

In sidebar.blade.php I want to dynamically make the active options show as active.
Step one in the process was to retrieve a couple of simple variables.  One is the
prefix I established for the brand routes and the other is the route name.
@php
    $prefix = Request::route()->getPrefix();
    $route = Route::current()->getName();
   // dd($route);
@endphp

Next I put these to work as follows
<li class="{{ ($route == 'dashboard')? 'active':'' }}">
<a href="{{ url('admin/dashboard') }}">
    <i data-feather="pie-chart"></i>
    <span>Dashboard</span>
</a>
</li>

<li class="treeview {{ ($prefix == '/brand')? 'active':'' }}">
<a href="#">
    <i data-feather="message-circle"></i>
    <span>Brands</span>
    <span class="pull-right-container">
        <i class="fa fa-angle-right pull-right"></i>
    </span>
</a>
<ul class="treeview-menu">
    <li class="{{ ($route == 'all.brand')? 'active':'' }}">
    <a href="{{ route('all.brand') }}"><i class="ti-more"></i>All Brand</a></li>
</ul>
</li>

(137)  Install Image Intervention Package.

First I install Intervention Image from the instructions
http://image.intervention.io/getting_started/installation

First I do the install using composer remembering in laravel I make some changes to composer
commands
php composer.phar require intervention/image 
must be changed to
composer require intervention/image

Next I follow the instructions under Integration in Laravel

After you have installed Intervention Image, open your Laravel config file config/app.php and add the following lines.
In the $providers array add the service providers for this package.  
Intervention\Image\ImageServiceProvider::class
Add the facade of this package to the $aliases array.  
'Image' => Intervention\Image\Facades\Image::class
Now the Image Class will be auto-loaded by Laravel.

Next I save and publish the configuration
php artisan vendor:publish --provider="Intervention\Image\ImageServiceProviderLaravelRecent"

(138) Brand Crud Part 1

Next I alter the brand.store route making it a post request
Route::post('/store', [BrandController::class, 'BrandStore'])->name('brand.store'); 

Now I finish out the BrandStore method like so

use Image;

     public function BrandStore(Request $request) {
        $request->validate([
            'brand_name_en' => 'required',
            'brand_name_hin' => 'required',
            'brand_image' => 'required',    
        ],[
            'brand_name_en.required' => 'Input Brand English Name',
            'brand_name_hin.required' => 'Input Brand Hindi Name',

        ]);
        $image = $request->file('brand_image');
        $name_gen = hexdec(uniqid()).'.'.$image->getClientOriginalExtension();
        Image::make($image)->resize(300,300)->save('upload/brand/'.$name_gen);
        $save_url = 'upload/brand/'.$name_gen;
        Brand::insert([
            'brand_name_en'  => $request->brand_name_en,
            'brand_name_hin'  => $request->brand_name_hin,
            'brand_slug_en'  => strtolower(str_replace(' ','-' ,$request->brand_name_en)),
            'brand_slug_hin'  => str_replace(' ','-' ,$request->brand_name_hin),
            'brand_image'  => $save_url,

        ]);
        $notification = array(
            'message' => 'Brand Inserted Successfully',
            'alert-type' => 'success'
        );
        return redirect()->back()->with($notification);
    }


brand_view.blade.php
@extends('admin.admin_master')
@section('admin')
    <div class="container-full">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <section class="content">
            <div class="row">

                <div class="col-8">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Brand List</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <table id="example1" class="table table-bordered table-striped">
                                    <thead>

                                        <tr>
                                            <th>Brand En</th>
                                            <th>Brand Hin</th>
                                            <th>Image</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach ($brands as $item)
                                            <tr>
                                                <td>{{ $item->brand_name_en }}</td>
                                                <td>{{ $item->brand_name_hin }}</td>
                                                <td><img src="{{ asset($item->brand_image) }}"
                                                        style="width: 70px; height: 40px;"></td>
                                                <td>
                                                    <a href="" class="btn btn-info">Edit</a>
                                                    <a href="" class="btn btn-info">Delete</a>
                                                </td>
                                            </tr>
                                        @endforeach
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>
                <!-- /.col -->
                <!-- -------------- Add Brand Page ---------------- -->
                <div class="col-4">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Add Brand</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <form method="post" action="{{ route('brand.store') }}" enctype="multipart/form-data">
                                    @csrf
                                                <div class="form-group">
                                                    <h5>Brand Name English <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="brand_name_en" name="brand_name_en"
                                                            class="form-control">
                                                            @error('brand_name_en')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <h5>Brand Name Hindi <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="brand_name_hin" name="brand_name_hin"
                                                            class="form-control">
                                                            @error('brand_name_hin')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror

                                                    </div>
                                                </div>


                                                <div class="form-group">
                                                    <h5>Brand Image <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="file" id="brand_image"
                                                            name="brand_image" class="form-control">
                                                            @error('brand_image')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror

                                                    </div>
                                                </div>    
                                    <div class="text-xs-right">
                                        <input type="submit" class="btn btn-rounded btn-primary mb-5" value="Add Brand">
                                    </div>
                                </form>

                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>

            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->
    </div>


@endsection

We go through and add brands

(139) Brand Crud Part 2

Now add functionality to the edit button.  I Start by adding a route to the link 
and pass along the id with it like so
<a href="{{ route('brand.edit', $item->id) }}" class="btn btn-info">Edit</a>

Now I add the route to web.php
Route::get('/edit/{id}', [BrandController::class, 'BrandEdit'])->name('brand.edit');

Next I add the BrandEdit method to BrandController
    public function BrandEdit($id) {
        $brand = Brand::findOrFail($id);
        return view('backend.brand.brand_edit',compact('brand'));
    }

Now I will add the new view as backend\brand\brand_edit.blade.php
Then I will copy brand_view in and make changes.
@extends('admin.admin_master')
@section('admin')
    <div class="container-full">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <section class="content">
            <div class="row">


                <!-- -------------- Edit Brand Page ---------------- -->
                <div class="col-12">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Edit Brand</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <form method="post" action="{{ route('brand.update', $brand->id) }}" enctype="multipart/form-data">
                                    @csrf
                                    <input type="hidden" name="id" id="id" value="{{ $brand->id }}">
                                    <input type="hidden" name="old_image" id="old_image" value="{{ $brand->image_name }}">
                                                <div class="form-group">
                                                    <h5>Brand Name English <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="brand_name_en" name="brand_name_en"
                                                            class="form-control" value="{{ $brand->brand_name_en }}">
                                                            @error('brand_name_en')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <h5>Brand Name Hindi <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="brand_name_hin" name="brand_name_hin"
                                                            class="form-control" value="{{ $brand->brand_name_hin }}">
                                                            @error('brand_name_hin')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror

                                                    </div>
                                                </div>


                                                <div class="form-group">
                                                    <h5>Brand Image <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="file" id="brand_image"
                                                            name="brand_image" class="form-control" >
                                                            @error('brand_image')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror

                                                    </div>
                                                </div>    
                                    <div class="text-xs-right">
                                        <input type="submit" class="btn btn-rounded btn-primary mb-5" value="Update">
                                    </div>
                                </form>

                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>

            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->
    </div>


@endsection

Now I create the brand.update route in web.php
Route::post('/update', [BrandController::class, 'BrandUpdate'])->name('brand.update'); 


Now I create the BrandUpdate method in BrandController
   public function BrandUpdate(Request $request) {
        $brand_id = $request->id;
        $old_image = $request->old_image;

        if ($request->file('brand_image')) {
            if ($old_image) {
            unlink($old_image);
            }
            $image = $request->file('brand_image');
            $name_gen = hexdec(uniqid()).'.'.$image->getClientOriginalExtension();
            Image::make($image)->resize(300,300)->save('upload/brand/'.$name_gen);
            $save_url = 'upload/brand/'.$name_gen;
            Brand::findOrFail($brand_id)->update([
                'brand_name_en'  => $request->brand_name_en,
                'brand_name_hin'  => $request->brand_name_hin,
                'brand_slug_en'  => strtolower(str_replace(' ','-' ,$request->brand_name_en)),
                'brand_slug_hin'  => str_replace(' ','-' ,$request->brand_name_hin),
                'brand_image'  => $save_url,
    
            ]);
            $notification = array(
                'message' => 'Brand Updated Successfully',
                'alert-type' => 'info'
            );
            return redirect()->route('all.brand')->with($notification);

        } else {
            Brand::findOrFail($brand_id)->update([
                'brand_name_en'  => $request->brand_name_en,
                'brand_name_hin'  => $request->brand_name_hin,
                'brand_slug_en'  => strtolower(str_replace(' ','-' ,$request->brand_name_en)),
                'brand_slug_hin'  => str_replace(' ','-' ,$request->brand_name_hin),
     
            ]);
            $notification = array(
                'message' => 'Brand Updated Successfully',
                'alert-type' => 'info'
            );
            return redirect()->route('all.brand')->with($notification);


        }


    }


(140) Brand Crud Part 3 Delete with SweetAlert Alert 2

We Copy code from the Sweetalert site in admin_master.blade.php and add the function wrapper
to trigger onclick with id delete and add the window.location on success

<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script type="text/javascript">
$(function(){
  $(document).on('click', '#delete',function(e){
    e.preventDefault();
    var link = $(this).attr("href");

Swal.fire({
  title: 'Are you sure?',
  text: "Delete this Data?",
  icon: 'warning',
  showCancelButton: true,
  confirmButtonColor: '#3085d6',
  cancelButtonColor: '#d33',
  confirmButtonText: 'Yes, delete it!'
}).then((result) => {
  if (result.isConfirmed) {
       window.location.href = link
    Swal.fire(
      'Deleted!',
      'Your file has been deleted.',
      'success'
    )
  }
})

});
});

</script>



To make it work In brand_view.blade.php I add name and id
<a href="{{ route('brand.delete', $item->id) }}" class="btn btn-info" name="delete" id="delete">Delete</a>

Now I want to Create the Route in web.php
Route::get('/delete/{id}', [BrandController::class, 'BrandDelete'])->name('brand.delete'); 

Next I create the BrandDelete method in BrandController



Finally I change the brand_view buttons to use icons
<a href="{{ route('brand.edit', $item->id) }}" class="btn btn-info" title"Edit Data"><i class="fa fa-pencil"></i></a>
<a href="{{ route('brand.delete', $item->id) }}" class="btn btn-info" id="delete" title"Delete Data"><i class="fa fa-trash"></a>


(141) Category Crud Part 1

The first thing that I do is create the menu item in sidebar.blade.php so I use the same sort of approach that I did 
with Brand so I convert the Mailbox menu item like so
<li class="treeview {{ ($prefix == '/category')? 'active':'' }}">
    <a href="#">
        <i data-feather="mail"></i> <span>Category</span>
        <span class="pull-right-container">
            <i class="fa fa-angle-right pull-right"></i>
        </span>
    </a>
    <ul class="treeview-menu">
        <li class="{{ ($route == 'all.category')? 'active':'' }}"><a href="{{ route('all.category') }}"><i class="ti-more"></i>All Category</a></li>
        </ul>
</li>

Next I create the CategoryController
php artisan make:controller Backend/CategoryController

Next I create the Model and migration
php artisan make:model Category -m

We modify out migration like so
    public function up()
    {
        Schema::create('categories', function (Blueprint $table) {
            $table->id();
            $table->string('category_name_en');
            $table->string('category_name_hin');
            $table->string('category_slug_en');
            $table->string('category_slug_hin');
            $table->string('category_icon');
            $table->timestamps();
        });
    }

Next I run the migration
php artisan migrate

Next in the model
    protected $fillable = [
        'category_name_en',
        'category_name_hin',
        'category_slug_en',
        'category_slug_hin',
        'category_icon',
    ];



In web.php
use App\Http\Controllers\Backend\CategoryController;
We clone and change the BrandRoutes Like So
// Admin Category All Routes

Route::prefix('category')->group(function(){
    Route::get('/view', [CategoryController::class, 'CategoryView'])->name('all.category'); 
    Route::post('/store', [CategoryController::class, 'CategoryStore'])->name('category.store'); 
    Route::get('/edit/{id}', [CategoryController::class, 'CategoryEdit'])->name('category.edit'); 
    Route::post('/update', [CategoryController::class, 'CategoryUpdate'])->name('category.update');
    Route::get('/delete/{id}', [CategoryController::class, 'CategoryDelete'])->name('category.delete'); 
});

Next in CategoryController I use the model and clone the BrandView method from BrandController
    public function CategoryView(){
        $category = Category::latest()->get();
        return view('backend.category.category_view',compact('category'));
    }


Next I create the category subfolder and category_view
@extends('admin.admin_master')
@section('admin')
    <div class="container-full">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <section class="content">
            <div class="row">

                <div class="col-8">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Category List</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <table id="example1" class="table table-bordered table-striped">
                                    <thead>

                                        <tr>
                                            <th>Category Icon</th>
                                            <th>Category En</th>
                                            <th>Category Hin</th>                                           
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach ($category as $item)
                                            <tr>
                                                <td><span><i class="{{ $item->category_icon }}"></i></span></td>
                                                <td>{{ $item->category_name_en }}</td>
                                                <td>{{ $item->category_name_hin }}</td>
                                                    <a href="{{ route('category.edit', $item->id) }}" class="btn btn-info" title"Edit Data"><i class="fa fa-pencil"></i></a>
                                                    <a href="{{ route('category.delete', $item->id) }}" class="btn btn-info" id="delete" title"Delete Data"><i class="fa fa-trash"></i></a>
                                                                                                    </td>
                                            </tr>
                                        @endforeach
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>
                <!-- /.col -->
                <!-- -------------- Add Category Page ---------------- -->
                <div class="col-4">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Add Category</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <form method="post" action="{{ route('category.store') }}">
                                    @csrf
                                                <div class="form-group">
                                                    <h5>Category English <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="category_name_en" name="category_name_en"
                                                            class="form-control">
                                                            @error('category_name_en')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <h5>Category Hindi <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="category_name_hin" name="category_name_hin"
                                                            class="form-control">
                                                            @error('category_name_hin')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror

                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <h5>Category Icon <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="category_icon" name="category_icon"
                                                            class="form-control">
                                                            @error('category_icon')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror

                                                    </div>
                                                </div>


                                    <div class="text-xs-right">
                                        <input type="submit" class="btn btn-rounded btn-primary mb-5" value="Add Category">
                                    </div>
                                </form>

                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>

            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->
    </div>


@endsection

(142) Category Crud Part 2

Now I uncomment the CategoryStore in web.php


Now I clone BrandStore to CategoryStore and change it like so
   public function CategoryStore(Request $request) {
        $request->validate([
            'category_name_en' => 'required',
            'category_name_hin' => 'required',
            'category_icon' => 'required',    
        ],[
            'category_name_en.required' => 'Input Category English Name',
            'category_name_hin.required' => 'Input Category Hindi Name',

        ]);

        Category::insert([
            'category_name_en'  => $request->category_name_en,
            'category_name_hin'  => $request->category_name_hin,
            'category_slug_en'  => strtolower(str_replace(' ','-' ,$request->category_name_en)),
            'category_slug_hin'  => str_replace(' ','-' ,$request->category_name_hin),
            'category_icon'  => $request->category_icon,

        ]);
        $notification = array(
            'message' => 'Category Inserted Successfully',
            'alert-type' => 'success'
        );
        return redirect()->back()->with($notification);
    }

    Now I add Category Data with fontawsome icons

    (143) Category Crud Part 3

    Due to the method that I used for cloning the Brand edit the category_view link 
    is already done as well as the route in web.php
<a href="{{ route('category.edit', $item->id) }}" class="btn btn-info" title"Edit Data"><i class="fa fa-pencil"></i></a>
Route::post('/store', [CategoryController::class, 'CategoryStore'])->name('category.store'); 


    public function CategoryEdit($id) {
        $category = Category::findOrFail($id);
        return view('backend.category.category_edit',compact('category'));
    }

@extends('admin.admin_master')
@section('admin')
    <div class="container-full">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <section class="content">
            <div class="row">
                <!-- -------------- Edit Category Page ---------------- -->
                <div class="col-12">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Edit Category</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <form method="post" action="{{ route('category.update', $category->id) }}">
                                    @csrf
                                    <input type="hidden" name="id" id="id" value="{{ $category->id }}">
                                                <div class="form-group">
                                                    <h5>Category English <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="category_name_en" name="category_name_en"
                                                            class="form-control" value="{{ $category->category_name_en }}">
                                                            @error('category_name_en')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <h5>Category Hindi <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="category_name_hin" name="category_name_hin"
                                                            class="form-control" value="{{ $category->category_name_hin }}">
                                                            @error('category_name_hin')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror

                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <h5>Category Icon <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="category_icon" name="category_icon"
                                                            class="form-control" value="{{ $category->category_icon }}">
                                                            @error('category_icon')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror

                                                    </div>
                                                </div>


                                    <div class="text-xs-right">
                                        <input type="submit" class="btn btn-rounded btn-primary mb-5" value="Update">
                                    </div>
                                </form>

                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>

            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->
    </div>


@endsection

Route::post('/update', [CategoryController::class, 'CategoryUpdate'])->name('category.update');

   public function CategoryUpdate(Request $request) {
        $category_id = $request->id;
        $old_icon = $request->old_icon;

             Category::findOrFail($category_id)->update([
                'category_name_en'  => $request->category_name_en,
                'category_name_hin'  => $request->category_name_hin,
                'category_slug_en'  => strtolower(str_replace(' ','-' ,$request->category_name_en)),
                'category_slug_hin'  => str_replace(' ','-' ,$request->category_name_hin),
                'category_icon'  => $request->category_icon,
    
            ]);
            $notification = array(
                'message' => 'Category Updated Successfully',
                'alert-type' => 'info'
            );
            return redirect()->route('all.category')->with($notification);
    }


(144) Category Crud Part 4

<a href="{{ route('category.delete', $item->id) }}" class="btn btn-info" id="delete" title"Delete Data"><i class="fa fa-trash"></i></a>

 Route::post('/update', [CategoryController::class, 'CategoryUpdate'])->name('category.update');

     public function CategoryDelete($id){
        $category = Category::findOrFail($id);
        Category::findOrFail($id)->delete();
        $notification = array(
            'message' => 'Category Deleted Successfully',
            'alert-type' => 'info',
        );
        return redirect()->back()->with($notification);
    } 

(145) Subcategory Crud Part 1

First I want to add a subcategory menu item to sidebar.blade.php
<li class="{{ ($route == 'all.subcategory')? 'active':'' }}"><a href="{{ route('all.subcategory') }}"><i class="ti-more"></i>All SubCategory</a></li>

Next I clone the Routes from Category and change them like so

// Admin Sub Category All Routes

Route::get('/sub/view', [SubCategoryController::class, 'SubCategoryView'])->name('all.subcategory'); 
Route::post('/sub/store', [SubCategoryController::class, 'SubCategoryStore'])->name('subcategory.store'); 
Route::get('/sub/edit/{id}', SubCategoryController::class, 'SubCategoryEdit'])->name('subcategory.edit'); 
Route::post('/sub/update', [SubCategoryController::class, 'SubCategoryUpdate'])->name('subcategory.update');
Route::get('/sub/delete/{id}', [SubCategoryController::class, 'SubCategoryDelete'])->name('subcategory.delete'); 

use App\Http\Controllers\Backend\SubCategoryController;

php artisan make:Controller Backend/SubCategoryController


php artisan make:model SubCategory -m

For the migration
    public function up()
    {
        Schema::create('sub_categories', function (Blueprint $table) {
            $table->id();
            $table->integer('category_id');
            $table->string('subcategory_name_en');
            $table->string('subcategory_name_hin');
            $table->string('subcategory_slug_en');
            $table->string('subcategory_slug_hin');
            $table->timestamps();
        });
    }

For the model
   protected $fillable = [
        'category_id',
        'subcategory_name_en',
        'subcategory_name_hin',
        'subcategory_slug_en',
        'subcategory_slug_hin',
    ];

php artisan migrate

Now in the real world I have already cloned and altered everything minus the handling
of the category_id foriegn key in the SubCategoryController.  So in the controller I start with
    public function SubCategoryView(){
        $subcategory = SubCategory::latest()->get();
        return view('backend.category.subcategory_view',compact('subcategory'));
    }

Make the subcategory_view

We clone category view to subcategory_view and make changes then I open forms_validation from our
templates and clone the Basic Select dropdown
Ecommerce_Excersise_Files\Project Themes\Admin Theme\main-dark\

We will use this to select the Foriegn Key item


(146) Subcategory Crud Part 2

Now I have to begin making the hooks to pull the Category Info into the SubCategoryController
so that I can handle the foriegn key.
use App\Models\Category;

   public function SubCategoryView(){
        $categories = Category::orderBy('category_name_en', 'ASC')->get();
        $subcategory = SubCategory::latest()->get();
        return view('backend.category.subcategory_view',compact('subcategory','categories'));
    }

We go over the subcategory_view and smooth it out like so
@extends('admin.admin_master')
@section('admin')
    <div class="container-full">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <section class="content">
            <div class="row">

                <div class="col-8">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">SubCategory List</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <table id="example1" class="table table-bordered table-striped">
                                    <thead>

                                        <tr>
                                            <th>Category </th>
                                            <th>SubCategory En</th>
                                            <th>SubCategory Hin</th>                                           
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach ($subcategory as $item)
                                            <tr>
                                                <td>{{ $item->category_id }}</td>
                                                <td>{{ $item->subcategory_name_en }}</td>
                                                <td>{{ $item->subcategory_name_hin }}</td>
                                                  <td width="30%">  <a href="{{ route('subcategory.edit', $item->id) }}" class="btn btn-info" title"Edit Data"><i class="fa fa-pencil"></i></a>
                                                    <a href="{{ route('subcategory.delete', $item->id) }}" class="btn btn-info" id="delete" title"Delete Data"><i class="fa fa-trash"></i></a>
                                                                                                    </td>
                                            </tr>
                                        @endforeach
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>
                <!-- /.col -->
                <!-- -------------- Add SubCategory Page ---------------- -->
                <div class="col-4">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Add SubCategory</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <form method="post" action="{{ route('subcategory.store') }}">
                                    @csrf
                                                <div class="form-group">
                                                    <h5>Category Select <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <select name="category_id" id="category_id" class="form-control">
                                                            <option value="" selected="" disabled="">Select Category</option>
                                                            @foreach($categories as $category)
                                                            <option value="{{ $category->id }}">{{ $category->category_name_en }}</option>
                                                            @endforeach
                                                          </select>
                                                          @error('category_id')
                                                          <span class="text-danger">{{ $message }}</span>
                                                          @enderror
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <h5>SubCategory English <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="subcategory_name_en" name="subcategory_name_en"
                                                            class="form-control">
                                                            @error('subcategory_name_en')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror
                                                    </div>
                                                </div>


                                                <div class="form-group">
                                                    <h5>SubCategory Hindi <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="subcategory_name_hin" name="subcategory_name_hin"
                                                            class="form-control">
                                                            @error('subcategory_name_hin')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror

                                                    </div>
                                                </div>

 

                                    <div class="text-xs-right">
                                        <input type="submit" class="btn btn-rounded btn-primary mb-5" value="Add">
                                    </div>
                                </form>

                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>

            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->
    </div>


@endsection

We massage the SubCategoryStore method like so
    public function SubCategoryStore(Request $request) {
        $request->validate([
            'category_id' => 'required',
            'subcategory_name_en' => 'required',
            'subcategory_name_hin' => 'required',
        ],[
            'category_id.required' => 'Please Select An option',
            'subcategory_name_en.required' => 'Input SubCategory English Name',
            'subcategory_name_hin.required' => 'Input SubCategory Hindi Name',

        ]);

        SubCategory::insert([
            'category_id'  => $request->category_id,
            'subcategory_name_en'  => $request->subcategory_name_en,
            'subcategory_name_hin'  => $request->subcategory_name_hin,
            'subcategory_slug_en'  => strtolower(str_replace(' ','-' ,$request->subcategory_name_en)),
            'subcategory_slug_hin'  => str_replace(' ','-' ,$request->subcategory_name_hin),

        ]);
        $notification = array(
            'message' => 'SubCategory Inserted Successfully',
            'alert-type' => 'success'
        );
        return redirect()->back()->with($notification);
    }

We add subcategory data

Now I do the work for edit

Our link and route is already done

We massage SubCategoryEdit method like so
    public function SubCategoryEdit($id) {
        $categories = Category::orderBy('category_name_en', 'ASC')->get();
        $subcategory = SubCategory::findOrFail($id);
        return view('backend.category.subcategory_edit',compact('subcategory', 'categories'));
    }



(147) Subcategory Crud Part 3

I create the subcategory_edit cloning the subcategory_view and massage it like so
@extends('admin.admin_master')
@section('admin')
    <div class="container-full">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <section class="content">
            <div class="row">

                 <!-- -------------- Edit SubCategory Page ---------------- -->
                <div class="col-12">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Edit SubCategory</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <form method="post" action="{{ route('subcategory.update') }}">
                                    @csrf
                                    <input type="hidden" name="id" value="{{ $subcategory->id }}">
                                                <div class="form-group">
                                                    <h5>Category Select <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <select name="category_id" id="category_id" class="form-control">
                                                            <option value="" selected="" disabled="">Select Category</option>
                                                            @foreach($categories as $category)
                                                            <option value="{{ $category->id }}" {{ $category->id == $subcategory->category_id ? 'selected': '' }}>{{ $category->category_name_en }}</option>
                                                            @endforeach
                                                          </select>
                                                          @error('category_id')
                                                          <span class="text-danger">{{ $message }}</span>
                                                          @enderror
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <h5>SubCategory English <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="subcategory_name_en" name="subcategory_name_en"
                                                            class="form-control" value="{{ $subcategory->subcategory_name_en }}">
                                                            @error('subcategory_name_en')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror
                                                    </div>
                                                </div>


                                                <div class="form-group">
                                                    <h5>SubCategory Hindi <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="subcategory_name_hin" name="subcategory_name_hin"
                                                            class="form-control" value="{{ $subcategory->subcategory_name_hin }}">
                                                            @error('subcategory_name_hin')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror

                                                    </div>
                                                </div>

 

                                    <div class="text-xs-right">
                                        <input type="submit" class="btn btn-rounded btn-primary mb-5" value="Update">
                                    </div>
                                </form>

                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>

            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->
    </div>


@endsection


Our route is already done
Route::post('/sub/update', [SubCategoryController::class, 'SubCategoryUpdate'])->name('subcategory.update');


We massage SubCategoryUpdate like so
    public function SubCategoryUpdate(Request $request) {
        $subcategory_id = $request->id;
 

             SubCategory::findOrFail($subcategory_id)->update([
                'category_id'  => $request->category_id,
                'subcategory_name_en'  => $request->subcategory_name_en,
                'subcategory_name_hin'  => $request->subcategory_name_hin,
                'subcategory_slug_en'  => strtolower(str_replace(' ','-' ,$request->subcategory_name_en)),
                'subcategory_slug_hin'  => str_replace(' ','-' ,$request->subcategory_name_hin),
    
            ]);
            $notification = array(
                'message' => 'SubCategory Updated Successfully',
                'alert-type' => 'info'
            );
            return redirect()->route('all.subcategory')->with($notification);
    }

Now I want to display the category_name rather than the id in subcategory_view

to do this first I add a method to the SubCategory model that established the relationship to 
Category
    public function category(){
        return $this->belongsTo(Category::class, 'category_id', 'id');
    }

Next I change the category_id in subcategory view to reference the new method and the field name category_name_en
<td>{{ $item['category']['category_name_en'] }}</td>

Our delete is already working here is the code.
<a href="{{ route('subcategory.delete', $item->id) }}" class="btn btn-info" id="delete" title"Delete Data"><i class="fa fa-trash"></i></a>
Route::get('/sub/delete/{id}', [SubCategoryController::class, 'SubCategoryDelete'])->name('subcategory.delete'); 
   public function SubCategoryDelete($id){
        $subcategory = SubCategory::findOrFail($id);
        SubCategory::findOrFail($id)->delete();
        $notification = array(
            'message' => 'SubCategory Deleted Successfully',
            'alert-type' => 'info',
        );
        return redirect()->back()->with($notification);
    }

()

(148) Sub Subcategory Crud Part 1

We start by adding a new menu option to sidebar
<li class="{{ ($route == 'all.subsubcategory')? 'active':'' }}"><a href="{{ route('all.subsubcategory') }}"><i class="ti-more"></i>All Sub->SubCategory</a></li>

php artisan make:model SubSubCategory -m

            $table->id();
            $table->integer('category_id');
            $table->integer('subcategory_id');
            $table->string('subsubcategory_name_en');
            $table->string('subsubcategory_name_hin');
            $table->string('subsubcategory_slug_en');
            $table->string('subsubcategory_slug_hin');
            $table->timestamps();


    protected $fillable = [
        'category_id',
        'subcategory_id',
        'subsubcategory_name_en',
        'subsubcategory_name_hin',
        'subsubcategory_slug_en',
        'subsubcategory_slug_hin',
    ];

    public function category(){
        return $this->belongsTo(Category::class, 'category_id', 'id');
    }

    public function subcategory(){
        return $this->belongsTo(SubCategory::class, 'subcategory_id', 'id');
    }

php artisan migrate

Next I create the route - Im pretending that I haven't already done them all
Route::get('/sub/sub/view', [SubCategoryController::class, 'SubSubCategoryView'])->name('all.subsubcategory'); 

Now I add the method to SubCategoryController
use App\Models\SubSubCategory;

    public function SubSubCategoryView(){
        $categories = Category::orderBy('category_name_en', 'ASC')->get();
      //  $subcategories = SubCategory::orderBy('subcategory_name_en', 'ASC')->get();
        $subsubcategory = SubSubCategory::latest()->get();
    //    return view('backend.category.subsubcategory_view',compact('subsubcategory','categories', 'subcategories'));
        return view('backend.category.subsubcategory_view',compact('subsubcategory','categories'));
    }

(149) Sub Subcategory Crud Part 2

Now I create the view subsubcategory_view.blade.php I clone subcategory_view and massage like so.  
Notice
I include Jquery and write some javascript at the bottom of the page to retrieve the subcategory
select info based on the option chosen in category select.

@extends('admin.admin_master')
@section('admin')
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <div class="container-full">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <section class="content">
            <div class="row">

                <div class="col-8">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Sub->SubCategory List</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <table id="example1" class="table table-bordered table-striped">
                                    <thead>

                                        <tr>
                                            <th>Category </th>
                                            <th>SubCategory Name</th>
                                            <th>Sub-SubCategory English</th>
                                         <!--   <th>SubiSubCategory Hindi</th> -->                                          
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach ($subsubcategory as $item)
                                            <tr>
                                                <td>{{ $item['category']['category_name_en'] }}</td>
                                                <td>{{ $item['subcategory']['subcategory_name_en'] }}</td>
                                                <td>{{ $item->subsubcategory_name_en }}</td>
                                            <!--    <td>{{ $item->subsubcategory_name_hin }}</td> -->
                                                  <td width="30%">  <a href="{{ route('subsubcategory.edit', $item->id) }}" class="btn btn-info" title"Edit Data"><i class="fa fa-pencil"></i></a>
                                                    <a href="{{ route('subsubcategory.delete', $item->id) }}" class="btn btn-info" id="delete" title"Delete Data"><i class="fa fa-trash"></i></a>
                                                                                                    </td>
                                            </tr>
                                        @endforeach
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>
                <!-- /.col -->
                <!-- -------------- Add SubSubCategory Page ---------------- -->
                <div class="col-4">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Add Sub-SubCategory</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <form method="post" action="{{ route('subsubcategory.store') }}">
                                    @csrf
                                                <div class="form-group">
                                                    <h5>Category Select <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <select name="category_id" id="category_id" class="form-control">
                                                            <option value="" selected="" disabled="">Select Category</option>
                                                            @foreach($categories as $category)
                                                            <option value="{{ $category->id }}">{{ $category->category_name_en }}</option>
                                                            @endforeach
                                                          </select>
                                                          @error('category_id')
                                                          <span class="text-danger">{{ $message }}</span>
                                                          @enderror
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <h5>SubCategory Select <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <select name="subcategory_id" id="subcategory_id" class="form-control">
                                                            <option value="" selected="" disabled="">Select SubCategory</option>
                                                                                                                    
                                                          </select>
                                                          @error('subcategory_id')
                                                          <span class="text-danger">{{ $message }}</span>
                                                          @enderror
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <h5>Sub-SubCategory English <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="subsubcategory_name_en" name="subsubcategory_name_en"
                                                            class="form-control">
                                                            @error('subsubcategory_name_en')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror
                                                    </div>
                                                </div>


                                                <div class="form-group">
                                                    <h5>Sub-SubCategory Hindi <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="subsubcategory_name_hin" name="subsubcategory_name_hin"
                                                            class="form-control">
                                                            @error('subsubcategory_name_hin')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror

                                                    </div>
                                                </div>

 

                                    <div class="text-xs-right">
                                        <input type="subsubmit" class="btn btn-rounded btn-primary mb-5" value="Add">
                                    </div>
                                </form>

                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>

            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->
    </div>

<script type="text/javascript">
$(document).ready(function  {
    $('select[name="category_id"]').on('change', function(){
        var category_id = $(this).val();
        if(category_id) {
            $.ajax({
                url: "{{ url('/category/subcategory/ajax') }}/" category_id,
                type:"GET",
                dataType:"json",
                success:function(data) {
                    var d = $('select[name="subcategory_id"]').empty();
                      $.each(data, function(key, value){
                          $('select[name="subcategory_id"]').append('<option
                          value="'+ value.id +'">' + value.subcategory_name_en 
                    + '</option>');

                    });
                },

            });
        } else {
            alert('danger');
        }

    });

});


</script>
@endsection

Now I must create the subcategory/ajax route to accomodate the javascript data retrieval
Route::get('/subcategory/ajax/{category_id}', [SubCategoryController::class, 'GetSubCategory']); 


Next I add the method to SubCategoryController and return the json data expected by
our javascript
    public function GetSubCategory($category_id) {
        $subcat = SubCategory::where('category_id', $category_id)->orderBy('
        subcategory_name_en', 'ASC')->get();
        return json_encode($subcat); 
    }


At this point when I test I am getting javascript errors.  I have replace my code with the project master code and still have errors.
So I am going to move on and commit these changes with errors and populate the DB manually for now and come back and fix this later when I have answers.


(150) Sub Subcategory Crud Part 3

<form method="post" action="{{ route('subsubcategory.store') }}" >

Route::post('/sub/sub/store', [SubCategoryController::class, 'SubSubCategoryStore'])->name('subsubcategory.store'); 

    public function SubSubCategoryStore(Request $request) {
        $request->validate([
            'category_id' => 'required',
            'subcategory_id' => 'required',
            'subsubcategory_name_en' => 'required',
            'subsubcategory_name_hin' => 'required',
        ],[
            'category_id.required' => 'Please Select An option',
            'subcategory_id.required' => 'Please Select An option',
            'subsubcategory_name_en.required' => 'Input SubSubCategory English Name',
            'subsubcategory_name_hin.required' => 'Input SubSubCategory Hindi Name',

        ]);

        SubSubCategory::insert([
            'category_id'  => $request->category_id,
            'subcategory_id'  => $request->subcategory_id,
            'subsubcategory_name_en'  => $request->subsubcategory_name_en,
            'subsubcategory_name_hin'  => $request->subsubcategory_name_hin,
            'subsubcategory_slug_en'  => strtolower(str_replace(' ','-' ,$request->subsubcategory_name_en)),
            'subsubcategory_slug_hin'  => str_replace(' ','-' ,$request->subsubcategory_name_hin),

        ]);
        $notification = array(
            'message' => 'SubSubCategory Inserted Successfully',
            'alert-type' => 'success'
        );
        return redirect()->back()->with($notification);
    }


   (151) Sub SubCategory Crud Part 4

   To create the subsubcategory edit I start with the link from sub_subcategory_view
    <a href="{{ route('subsubcategory.edit',$item->id) }}" class="btn btn-info" title="Edit Data"><i class="fa fa-pencil"></i> </a>

Next I establish the route in web.php
Route::get('/sub/sub/edit/{id}', [SubCategoryController::class, 'SubSubCategoryEdit'])->name('subsubcategory.edit'); 


Next the method SubSubCategoryEdit
public function SubSubCategoryEdit($id) {
        $categories = Category::orderBy('category_name_en', 'ASC')->get();
        $subcategories = SubCategory::orderBy('subcategory_name_en', 'ASC')->get();
        $subsubcategories = SubSubCategory::findOrFail($id);
        return view('backend.category.sub_subcategory_edit',compact('categories','subcategories','subsubcategories'));
    }

Next the view backend.category.sub_subcategory_edit
@extends('admin.admin_master')
@section('admin')
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Content Wrapper. Contains page content -->

    <div class="container-full">
        <!-- Content Header (Page header) -->


        <!-- Main content -->
        <section class="content">
            <div class="row">





                <!--   ------------ Edit Category Page -------- -->


                <div class="col-12">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Edit Sub-SubCategory </h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">


                                <form method="post" action="{{ route('subsubcategory.update') }}">
                                    @csrf

                                    <input type="hidden" name="id" value="{{ $subsubcategories->id }}">                                     
                                    <div class="form-group">
                                        <h5>Category Select <span class="text-danger">*</span></h5>
                                        <div class="controls">
                                            <select name="category_id" class="form-control">
                                                <option value="" selected="" disabled="">Select Category</option>
                                                @foreach ($categories as $category)
                                                    <option value="{{ $category->id }}" {{ $category->id == $subsubcategories->category_id ? 'selected': '' }}>
                                                        {{ $category->category_name_en }}</option>
                                                @endforeach
                                            </select>
                                            @error('category_id')
                                                <span class="text-danger">{{ $message }}</span>
                                            @enderror
                                        </div>
                                    </div>


                                    <div class="form-group">
                                        <h5>SubCategory Select <span class="text-danger">*</span></h5>
                                        <div class="controls">
                                            <select name="subcategory_id" class="form-control">
                                                <option value="" selected="" disabled="">Select SubCategory</option>
                                            @foreach ($subcategories as $subsub)
                                                <option value="{{ $subsub->id }}" {{ $subsub->id == $subsubcategories->subcategory_id ? 'selected': '' }}>
                                                    {{ $subsub->subcategory_name_en }}</option>
                                            @endforeach

                                            </select>
                                            @error('subcategory_id')
                                                <span class="text-danger">{{ $message }}</span>
                                            @enderror
                                        </div>
                                    </div>


                                    <div class="form-group">
                                        <h5>Sub-SubCategory English <span class="text-danger">*</span></h5>
                                        <div class="controls">
                                            <input type="text" name="subsubcategory_name_en" class="form-control" value="{{ $subsubcategories->subsubcategory_name_en }}">
                                            @error('subsubcategory_name_en')
                                                <span class="text-danger">{{ $message }}</span>
                                            @enderror
                                        </div>
                                    </div>


                                    <div class="form-group">
                                        <h5>Sub-SubCategory Hindi <span class="text-danger">*</span></h5>
                                        <div class="controls">
                                            <input type="text" name="subsubcategory_name_hin" class="form-control" value="{{ $subsubcategories->subsubcategory_name_hin }}">
                                            @error('subsubcategory_name_hin')
                                                <span class="text-danger">{{ $message }}</span>
                                            @enderror
                                        </div>
                                    </div>


                                    <div class="text-xs-right">
                                        <input type="submit" class="btn btn-rounded btn-primary mb-5" value="Update">
                                    </div>
                                </form>





                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->
                </div>




            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->

    </div>

@endsection


Next the Route in web.php
Route::post('/sub/sub/update', [SubCategoryController::class, 'SubSubCategoryUpdate'])->name('subsubcategory.update');

Now the SubSubCategoryUpdate method
    public function SubSubCategoryUpdate(Request $request) {
        $subsubcategory_id = $request->id;
 

             SubSubCategory::findOrFail($subsubcategory_id)->update([
                'category_id'  => $request->category_id,
                'subcategory_id'  => $request->subcategory_id,
                'subsubcategory_name_en'  => $request->subsubcategory_name_en,
                'subsubcategory_name_hin'  => $request->subsubcategory_name_hin,
                'subsubcategory_slug_en'  => strtolower(str_replace(' ','-' ,$request->subsubcategory_name_en)),
                'subsubcategory_slug_hin'  => str_replace(' ','-' ,$request->subsubcategory_name_hin),
    
            ]);
            $notification = array(
                'message' => 'SubSubCategory Updated Successfully',
                'alert-type' => 'info'
            );
            return redirect()->route('all.subsubcategory')->with($notification);
    }

Note my GIT commits don't really match the steps because I skipped ahead and coded most of this 
prior to the Lesson the delete is really already done.

   (152) Sub SubCategory Crud Part 5   

 In the sub_subcategory_view I create the delete link
 <a href="{{ route('subsubcategory.delete',$item->id) }}" class="btn btn-danger" title="Delete Data" id="delete">


 Next the web route
 Route::get('/sub/sub/delete/{id}', [SubCategoryController::class, 'SubSubCategoryDelete'])->name('subsubcategory.delete'); 

Next the SubSubCategoryDelete method
    public function SubSubCategoryDelete($id){
       SubSubCategory::findOrFail($id)->delete();
        $notification = array(
            'message' => 'SubSubCategory Deleted Successfully',
            'alert-type' => 'info',
        );
        return redirect()->back()->with($notification);
    }

(153) Add Product Database and Page Design Part 1

Now I want to create a way to add products so I start with the sidebar menu
so I convert the Pages menu to this               
    <li class="treeview {{ ($prefix == '/product')? 'active':'' }}">
                        <a href="#">
                            <i data-feather="file"></i>
                            <span>Products</span>
                            <span class="pull-right-container">
                                <i class="fa fa-angle-right pull-right"></i>
                            </span>
                        </a>
                        <ul class="treeview-menu">
                            <li class="{{ ($route == 'add-product')? 'active':'' }}"><a href="{{ route('add-product') }}"><i class="ti-more"></i>Add Products</a></li>
                            <li ><a href="invoice.html"><i class="ti-more"></i>Manage Products</a></li>
                        </ul>
                    </li>

Next I add the routing prefix by cloning and changing the Brand routes in web.php

use App\Http\Controllers\Backend\ProductController;

Route::prefix('product')->group(function(){
    Route::get('/add', [ProductController::class, 'AddProduct'])->name('add-product'); 
});



Next I create the controller
php artisan make:controller Backend/ProductController

Now I create the model and migration
php artisan make:model Product -m

Now I chan ge the migration like so
    public function up()
    {
        Schema::create('products', function (Blueprint $table) {
            $table->id();
            $table->integer('brand_id');
            $table->integer('category_id');
            $table->integer('subcategory_id');
            $table->integer('subsubcategory_id');
            $table->string('product_name_en');
            $table->string('product_name_hin');
            $table->string('product_slug_en');
            $table->string('product_slug_hin');
            $table->string('product_code');
            $table->string('product_qty');
            $table->string('product_tags_en');
            $table->string('product_tags_hin');
            $table->string('product_size_en')->nullable();
            $table->string('product_size_hin')->nullable();
            $table->string('product_color_en');
            $table->string('product_color_hin');
            $table->string('selling_price');
            $table->string('discount_price')->nullable();
            $table->string('short_desc_en');
            $table->string('short_desc_hin');
            $table->string('long_desc_en');
            $table->string('long_desc_hin');
            $table->string('product__thumbnail');
            $table->integer('hot_deals')->nullable();
            $table->integer('featured')->nullable();
            $table->integer('special_offer')->nullable();
            $table->integer('special_deals')->nullable();
            $table->integer('status')->default(0);
            $table->timestamps();
        });

For the model I do a workaround to aviod creating all of the protected fillables that I normally create
class Product extends Model
{
    use HasFactory;
    protected $guarded = [];
}

Next I create an additional model so that I may attach multiple pictures to a product
php artisan make:model MultiImg -m

We alter the migration
    public function up()
    {
        Schema::create('multi_imgs', function (Blueprint $table) {
            $table->id();
            $table->integer('product_id');
            $table->string('photo_name');
            $table->timestamps();
        });
    }

We alter the Model
class MultiImg extends Model
{
    use HasFactory;
    protected $guarded = [];
}


Now I migrate
php artisan migrate

(154) Add Product Database and Page Design Part 2

For ProductController I add the use statements and the AddProduct method
use App\Models\Category;
use App\Models\SubCategory;
use App\Models\SubSubCategory;
use App\Models\Brand;
use App\Models\Product;

    public function AddProduct(){
        $categories = Category::latest()->get();
        $brands = Brand::latest()->get();
        return view('backend.product.product_add',compact('categories','brands'));

    }


We create the backend.product.product_add view
and copy in the std template
@extends('admin.admin_master')
@section('admin')


@endsection

Now I test the Add Product link to make sure everything holds up

So from the templates dark themes I extract the content wrapper from forms_validation.html
and then remove the begin and end content wrapper tags.  We then trim it down and massage it like so
adding the category select three times.

(155) Add Product Database and Page Design Part 3

Finishing product_add
We add more fields and Copy the Tags example from forms_advanced.html
We also had to mod editor.js to support 2 instances of CKEDIT
See product_add.blade.php for details


(156) Add Product Database and Page Design Part 4

Next I write javascript to retrieve Categories etc
   <script type="text/javascript">
        $(document).ready(function() {
            $('select[name="category_id"]').on('change', function() {
                var category_id = $(this).val();
                if (category_id) {
                    $.ajax({
                        url: "{{ url('/category/subcategory/ajax') }}/" + category_id,
                        type: "GET",
                        dataType: "json",
                        success: function(data) {
                            $('select[name="subsubcategory_id"]').html('');
                            var d = $('select[name="subcategory_id"]').empty();
                            $.each(data, function(key, value) {
                                $('select[name="subcategory_id"]').append(
                                    '<option value="' + value.id + '">' + value
                                    .subcategory_name_en + '</option>');
                            });
                        },
                    });
                } else {
                    alert('danger');
                }
            });



            $('select[name="subcategory_id"]').on('change', function() {
                var subcategory_id = $(this).val();
                if (subcategory_id) {
                    $.ajax({
                        url: "{{ url('/category/sub-subcategory/ajax') }}/" + subcategory_id,
                        type: "GET",
                        dataType: "json",
                        success: function(data) {
                            var d = $('select[name="subsubcategory_id"]').empty();
                            $.each(data, function(key, value) {
                                $('select[name="subsubcategory_id"]').append(
                                    '<option value="' + value.id + '">' + value
                                    .subsubcategory_name_en + '</option>');
                            });
                        },
                    });
                } else {
                    alert('danger');
                }
            });


        });
    </script>

To make the javascript work when I Retrieve SubSubcategory for the SubSubCategory dropdown I need
to create a new route in web.php
Route::get('/sub-subcategory/ajax/{subcategory_id}', [SubCategoryController::class, 'GetSubSubCategory']);

Next I create the GetSubSubCategory method in SubCategoryController
    public function GetSubSubCategory($subcategory_id){

        $subsubcat = SubSubCategory::where('subcategory_id',$subcategory_id)->orderBy('subsubcategory_name_en','ASC')->get();
        return json_encode($subsubcat);
    }


(157)  Add Some Demo Data for Categories

The Demo Data has been inserted


(158) Solve Select Category Javascript error

I inserted an additional fix inserting one blank subcategory to 
fix select problem with first item
$('select[name="subcategory_id"]').append(
'<option value="' + '' + '">' + '' + '</option>');

(159) Product Upload Part 1

We add Javascript and Change Input fields to display images

                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Main Thumbnail<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="file" name="product_thumbnail" id="product_thumbnail"
                                                            class="form-control" onChange="mainThumbUrl(this)"  required="">
                                                    </div>
                                                    @error('product_thumbnail')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror
                                                    <img src="" id="mainThmb">
                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Multiple Image<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="file" name="multi_img[]" class="form-control" multiple=""  id="multiImg" required="">
                                                    </div>
                                                    @error('multi_img')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror
                                                    <div class="row" id="preview_img"></div>
                                                </div>

   <script type="text/javascript">
        function mainThumbUrl(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function(e) {
                    $('#mainThmb').attr('src', e.target.result).width(80).height(80);
                };
                reader.readAsDataURL(input.files[0]);
            }
        }
    </script>


    <script>
        $(document).ready(function() {
            $('#multiImg').on('change', function() { //on file input change
                if (window.File && window.FileReader && window.FileList && window
                    .Blob) //check File API supported browser
                {
                    var data = $(this)[0].files; //this file data

                    $.each(data, function(index, file) { //loop though each file
                        if (/(\.|\/)(gif|jpe?g|png|jpg)$/i.test(file
                                .type)) { //check supported file type
                            var fRead = new FileReader(); //new filereader
                            fRead.onload = (function(file) { //trigger function on successful read
                                return function(e) {
                                    var img = $('<img/>').addClass('thumb').attr('src',
                                            e.target.result).width(80)
                                        .height(80); //create image element 
                                    $('#preview_img').append(
                                        img); //append image to output element
                                };
                            })(file);
                            fRead.readAsDataURL(file); //URL representing the file's data.
                        }
                    });

                } else {
                    alert("Your browser doesn't support File API!"); //if File API is absent
                }
            });
        });
    </script>

(160)  Product Upload Part 2

So I set up the form tag in product_add
<form method="post" action="{{ route('product-store') }}" enctype="multipart/formdata">
@csrf


Create the web.php route
Route::post('/store', [ProductController::class, 'StoreProduct'])->name('store-product'); 

Now I create the method in ProductController
use App\Models\MultiImg;
use Carbon\Carbon;
use Image;
     public function StoreProduct(Request $request){
        $image = $request->file('product_thumbnail');
    	$name_gen = hexdec(uniqid()).'.'.$image->getClientOriginalExtension();
    	Image::make($image)->resize(917,1000)->save('upload/products/thumbnail/'.$name_gen);
    	$save_url = 'upload/products/thumbnail/'.$name_gen;

        $product_id = Product::insertGetId([           'brand_id' => $request->brand_id, 
           'category_id' => $request->category_id,
           'subcategory_id' => $request->subcategory_id,
           'subsubcategory_id' => $request->subsubcategory_id,
           'product_name_en' => $request->product_name_en,
           'product_name_hin' => $request->product_name_hin,
           'product_slug_en' => strtolower(str_replace(' ','-' ,$request->product_slug_en)),
           'product_slug_hin' => strtolower(str_replace(' ','-' ,$request->product_slug_hin)),
           'product_code' => $request->product_code,
           'product_qty' => $request->product_qty,
           'product_tags_en' => $request->product_tags_en,
           'product_tags_hin' => $request->product_tags_hin,
           'product_size_en' => $request->product_size_en,
           'product_size_hin' => $request->product_size_hin,
           'product_color_en' => $request->product_color_en,
           'product_color_hin' => $request->product_color_hin,
           'selling_price' => $request->selling_price,
           'discount_price' => $request->discount_price,
           'short_desc_en' => $request->short_desc_en,
           'short_desc_hin' => $request->short_desc_hin,
           'long_desc_en' => $request->long_desc_en,
           'long_desc_hin' => $request->long_desc_hin,
           'hot_deals' => $request->hot_deals,
           'featured' => $request->featured,
           'special_offer' => $request->special_offer,
           'special_deals' => $request->special_deals,

           'product_thumbnail' => $save_url,
           'status' => 1,
           'created_at' => Carbon::now(),   
 

        ]);

         ////////// Multiple Image Upload Start ///////////

      $images = $request->file('multi_img');
      foreach ($images as $img) {
      	$make_name = hexdec(uniqid()).'.'.$img->getClientOriginalExtension();
    	Image::make($img)->resize(917,1000)->save('upload/products/multi-image/'.$make_name);
    	$uploadPath = 'upload/products/multi-image/'.$make_name;

    	MultiImg::insert([

    		'product_id' => $product_id,
    		'photo_name' => $uploadPath,
    		'created_at' => Carbon::now(), 

    	]);

      }

      ////////// End Multiple Image Upload Start ///////////


       $notification = array(
			'message' => 'Product Inserted Successfully',
			'alert-type' => 'success'
		);

		 return redirect()->back()->with($notification); 
    }

We create the folder /public/upload/products/thumbnail for the product images
We create the folder /public/upload/products/multi-image for the product images

We go back to product_add and mark most of the fields up to long desc as required=""

(161)  Product Upload Part 3

We add records

(162)  Manage Products Read All Product Data


In sidebar
<li class="{{ ($route == 'manage-product')? 'active':'' }}"><a href="{{ route('manage-product') }}"><i class="ti-more"></i>Manage Products</a></li>

in web.php
    Route::get('/manage', [ProductController::class, 'ManageProduct'])->name('manage-product');


in ProductController
return redirect()->route('manage-product')->with($notification);
    public function ManageProduct(){

		$products = Product::latest()->get();
		return view('backend.product.product_view',compact('products'));
	}

    I create product_view and copy category_view code in
@extends('admin.admin_master')
@section('admin')
    <div class="container-full">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <section class="content">
            <div class="row">

                <div class="col-12">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Product List</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <table id="example1" class="table table-bordered table-striped">
                                    <thead>

                                        <tr>
                                            <th>Image</th>
                                            <th>Product Name En</th>
                                            <th>Product Nam Hin</th>  
                                            <th>Quantity</th>                                          
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach ($products as $item)
                                            <tr>
                                                <td><img src="{{ asset($item->product_thumbnail) }}" style="width: 60px; height: 50px;"></td>
                                                <td>{{ $item->product_name_en }}</td>
                                                <td>{{ $item->product_name_hin }}</td>
                                                <td>{{ $item->product_qty }}</td>
                                                  <td>  <a href="{{ route('category.edit', $item->id) }}" class="btn btn-info" title"Edit Data"><i class="fa fa-pencil"></i></a>
                                                    <a href="{{ route('category.delete', $item->id) }}" class="btn btn-info" id="delete" title"Delete Data"><i class="fa fa-trash"></i></a>
                                                                                                    </td>
                                            </tr>
                                        @endforeach
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>
                <!-- /.col -->
 

            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->
    </div>


@endsection





(163) Manage Product Edit Option Part 1

product_view
<td>  <a href="{{ route('product.edit', $item->id) }}" class="btn btn-info" title"Edit Data"><i class="fa fa-pencil"></i></a>

web.php
    Route::get('/edit/{id}', [ProductController::class, 'EditProduct'])->name('product.edit');


ProductController
    public function EditProduct($id){
        $categories = Category::latest()->get();
        $brands = Brand::latest()->get();
        $subcategory = SubCategory::latest()->get();
        $subsubcategory = SubSubCategory::latest()->get();
        $products = Product::findOrFail($id);
        return view('backend.product.product_edit',compact('categories','brands','subcategory','subsubcategory','products'));
    }

product_edit

(164) Manage Product Edit Option Part 2

product_edit

(165) Manage Product Update Option

product_edit
@extends('admin.admin_master')
@section('admin')
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


    <div class="container-full">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <section class="content">

            <!-- Basic Forms -->
            <div class="box">
                <div class="box-header with-border">
                    <h4 class="box-title">Edit Product</h4>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <div class="row">
                        <div class="col">
                            <form method="post" action="{{ route('product-update') }}">
                                @csrf
                                <input type="hidden" name="id" id="id" value="{{ $products->id }}">
                                <div class="row">
                                    <div class="col-12">
                                        <!-- 1st row -->
                                        <div class='row'>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Brand Select <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <select name="brand_id" id="brand_id" class="form-control" required="">
                                                            <option value="" selected="" disabled="">Select Brand</option>
                                                            @foreach ($brands as $brand)
                                                                <option value="{{ $brand->id }}" {{ $brand->id == $products->brand_id ? 'selected': '' }}>
                                                                    {{ $brand->brand_name_en }}</option>
                                                            @endforeach
                                                        </select>
                                                        @error('brand_id')
                                                            <span class="text-danger">{{ $message }}</span>
                                                        @enderror
                                                    </div>
                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Category Select <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <select name="category_id" id="category_id" class="form-control" required="">
                                                            <option value="" selected="" disabled="">Select Category
                                                            </option>
                                                            @foreach ($categories as $category)
                                                                <option value="{{ $category->id }}" {{ $category->id == $products->category_id ? 'selected': '' }}>
                                                                    {{ $category->category_name_en }}</option>
                                                            @endforeach
                                                        </select>
                                                        @error('category_id')
                                                            <span class="text-danger">{{ $message }}</span>
                                                        @enderror
                                                    </div>
                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>SubCategory Select <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <select name="subcategory_id" id="subcategory_id"
                                                            class="form-control" required="">
                                                            <option value="" selected="" disabled="">Select SubCategory
                                                            </option>
                                                            @foreach ($subcategory as $subcategory)
                                                                <option value="{{ $subcategory->id }}" {{ $subcategory->id == $products->subcategory_id ? 'selected': '' }}>
                                                                    {{ $subcategory->subcategory_name_en }}</option>
                                                            @endforeach

                                                        </select>
                                                        @error('subcategory_id')
                                                            <span class="text-danger">{{ $message }}</span>
                                                        @enderror
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <!-- End 1st Row -->


                                        <!-- 2nd row -->
                                        <div class='row'>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>SubSubCategory Select <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <select name="subsubcategory_id" id="subsubcategory_id"
                                                            class="form-control" required="">
                                                            <option value="" selected="" disabled="">Select SubSubCategory
                                                            </option>
                                                            @foreach ($subsubcategory as $subsubcategory)
                                                                <option value="{{ $subsubcategory->id }}" {{ $subsubcategory->id == $products->subsubcategory_id ? 'selected': '' }}>
                                                                    {{ $subsubcategory->subsubcategory_name_en }}</option>
                                                            @endforeach

                                                        </select>
                                                        @error('subsubcategory_id')
                                                            <span class="text-danger">{{ $message }}</span>
                                                        @enderror
                                                    </div>
                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Name En<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_name_en" id="product_name_en"
                                                            class="form-control" required="" value="{{ $products->product_name_en }}">
                                                    </div>
                                                    @error('product_name_en')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror

                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Name Hin<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_name_hin" id="product_name_hin"
                                                            class="form-control" required="" value="{{ $products->product_name_hin }}">
                                                    </div>
                                                    @error('product_name_hin')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror

                                                </div>

                                            </div>
                                        </div>
                                        <!-- End 2nd Row -->

                                        <!-- 3rd row -->
                                        <div class='row'>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Code<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_code" id="product_code"
                                                            class="form-control" required="" value="{{ $products->product_code }}">>
                                                    </div>
                                                    @error('product_code')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror

                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Qty<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_qty" id="product_qty"
                                                            class="form-control" required="" value="{{ $products->product_qty }}">
                                                    </div>
                                                    @error('product_qty')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror

                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Tags En<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_tags_en" id="product_tags_en"
                                                            class="form-control" 
                                                            data-role="tagsinput" value="{{ $products->product_tags_en }}">
                                                    </div>
                                                    @error('product_tags_en')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror

                                                </div>

                                            </div>
                                        </div>
                                        <!-- End 3rd Row -->

                                        <!-- 4th row -->
                                        <div class='row'>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Tags Hin<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_tags_hin" id="product_tags_hin"
                                                            class="form-control" 
                                                            data-role="tagsinput" value="{{ $products->product_tags_hin }}">
                                                    </div>
                                                    @error('product_tags_hin')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror

                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Size En<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_size_en" id="product_size_en"
                                                            class="form-control"
                                                            data-role="tagsinput"  value="{{ $products->product_size_en }}">
                                                    </div>
                                                    @error('product_size_en')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror

                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Size Hin<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_size_hin" id="product_size_hin"
                                                            class="form-control"
                                                            data-role="tagsinput"  value="{{ $products->product_size_hin }}">
                                                    </div>
                                                    @error('product_size_hin')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror

                                                </div>

                                            </div>
                                        </div>
                                        <!-- End 4th Row -->

                                        <!-- 5th row -->
                                        <div class='row'>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Product Color En<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_color_en" id="product_color_en"
                                                            class="form-control"  data-role="tagsinput" value="{{ $products->product_color_en }}">
                                                    </div>
                                                    @error('product_color_en')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror

                                                </div>

                                            </div>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Product Color Hin<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_color_hin" id="product_color_hin"
                                                            class="form-control"  data-role="tagsinput" value="{{ $products->product_color_hin }}">
                                                    </div>
                                                    @error('product_color_hin')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror

                                                </div>

                                            </div>
                                         </div>
                                        <!-- End 5th Row -->

                                        <!-- 6th row -->

                                        <div class='row'>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Product Selling Price<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" name="selling_price" id="selling_price"
                                                            class="form-control" required="" value="{{ $products->selling_price }}">
                                                    </div>
                                                    @error('selling_price')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror
    
                                                </div>
    
                                            </div>
    
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Product Discount Price<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" name="discount_price" id="discount_price"
                                                            class="form-control" required="" value="{{ $products->discount_price }}">
                                                    </div>
                                                    @error('discount_price')
                                                        <span class="text-danger">{{ $message }}</span>
                                                    @enderror

                                                </div>

                                            </div>
                                        </div>
                                        <!-- End 6th Row -->

                                        <!-- 7th row -->
                                        <div class='row'>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Short Description English<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <textarea name="short_desc_en" id="short_desc_en"
                                                            class="form-control" required="" > {{ $products->short_desc_en }}
                                                        </textarea>

                                                    </div>

                                                </div>
                                            </div>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Short Description Hindi<span class="text-danger">*</span>
                                                    </h5>
                                                    <div class="controls">
                                                        <textarea name="short_desc_hin" id="short_desc_hin"
                                                            class="form-control" required="">{{ $products->short_desc_hin }}
                                                        </textarea>

                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <!-- End 7th Row -->

                                        <!-- 8th row -->
                                        <div class='row'>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Long Description English<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <textarea id="editor1" name="long_desc_en" rows="10" cols="80">
                                                            {{ $products->long_desc_en }}
                                                        </textarea>

                                                    </div>

                                                </div>
                                            </div>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Long Description Hindi<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <textarea id="editor2" name="long_desc_hin" rows="10" cols="80" >
                                                            {{ $products->long_desc_hin }}
                                                        </textarea>

                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <!-- End 8th Row -->

                                        <hr>



                                        <div class="row">

                                            <div class="col-md-6">
                                                <div class="form-group">

                                                    <div class="controls">
                                                        <fieldset>
                                                            <input type="checkbox" id="checkbox_2" name="hot_deals"
                                                                value="1" {{  $products->hot_deals == 1 ? 'checked': '' }}>
                                                            <label for="checkbox_2">Hot Deals</label>
                                                        </fieldset>
                                                        <fieldset>
                                                            <input type="checkbox" id="checkbox_3" name="featured"
                                                                value="1" {{  $products->featured == 1 ? 'checked': '' }}>
                                                            <label for="checkbox_3">Featured</label>
                                                        </fieldset>
                                                    </div>
                                                </div>
                                            </div>



                                            <div class="col-md-6">
                                                <div class="form-group">

                                                    <div class="controls">
                                                        <fieldset>
                                                            <input type="checkbox" id="checkbox_4" name="special_offer"
                                                                value="1" {{  $products->special_offer == 1 ? 'checked': '' }}>
                                                            <label for="checkbox_4">Special Offer</label>
                                                        </fieldset>
                                                        <fieldset>
                                                            <input type="checkbox" id="checkbox_5" name="special_deals"
                                                                value="1" {{  $products->special_deals == 1 ? 'checked': '' }}>
                                                            <label for="checkbox_5">Special Deals</label>
                                                        </fieldset>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="text-xs-right">
                                            <input type="submit" class="btn btn-rounded btn-primary mb-5"
                                                value="Update Product">
                                        </div>
                            </form>

                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- /.row -->
                </div>
                <!-- /.box-body -->
            </div>
            <!-- /.box -->

        </section>
        <!-- /.content -->
    </div>

    <script type="text/javascript">
        $(document).ready(function() {
            $('select[name="category_id"]').on('change', function() {
                var category_id = $(this).val();
                if (category_id) {
                    $.ajax({
                        url: "{{ url('/category/subcategory/ajax') }}/" + category_id,
                        type: "GET",
                        dataType: "json",
                        success: function(data) {

                            $('select[name="subsubcategory_id"]').html('');
                            var d = $('select[name="subcategory_id"]').empty();
                            $('select[name="subcategory_id"]').append(
                                '<option value="' + '' + '">' + '' + '</option>');

                            $.each(data, function(key, value) {
                                $('select[name="subcategory_id"]').append(
                                    '<option value="' + value.id + '">' + value
                                    .subcategory_name_en + '</option>');
                            });
                        },
                    });
                } else {
                    alert('danger');
                }
            });



            $('select[name="subcategory_id"]').on('change', function() {
                var subcategory_id = $(this).val();
                if (subcategory_id) {
                    $.ajax({
                        url: "{{ url('/category/sub-subcategory/ajax') }}/" + subcategory_id,
                        type: "GET",
                        dataType: "json",
                        success: function(data) {
                            var d = $('select[name="subsubcategory_id"]').empty();
                            $.each(data, function(key, value) {
                                $('select[name="subsubcategory_id"]').append(
                                    '<option value="' + value.id + '">' + value
                                    .subsubcategory_name_en + '</option>');
                            });
                        },
                    });
                } else {
                    alert('danger');
                }
            });


        });
    </script>


    <script type="text/javascript">
        function mainThumbUrl(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function(e) {
                    $('#mainThmb').attr('src', e.target.result).width(80).height(80);
                };
                reader.readAsDataURL(input.files[0]);
            }
        }
    </script>


    <script>
        $(document).ready(function() {
            $('#multiImg').on('change', function() { //on file input change
                if (window.File && window.FileReader && window.FileList && window
                    .Blob) //check File API supported browser
                {
                    var data = $(this)[0].files; //this file data

                    $.each(data, function(index, file) { //loop though each file
                        if (/(\.|\/)(gif|jpe?g|png|jpg)$/i.test(file
                                .type)) { //check supported file type
                            var fRead = new FileReader(); //new filereader
                            fRead.onload = (function(file) { //trigger function on successful read
                                return function(e) {
                                    var img = $('<img/>').addClass('thumb').attr('src',
                                            e.target.result).width(80)
                                        .height(80); //create image element 
                                    $('#preview_img').append(
                                        img); //append image to output element
                                };
                            })(file);
                            fRead.readAsDataURL(file); //URL representing the file's data.
                        }
                    });

                } else {
                    alert("Your browser doesn't support File API!"); //if File API is absent
                }
            });
        });
    </script>




@endsection


web.php
    Route::post('/data/update', [ProductController::class, 'ProductDataUpdate'])->name('product-update');


ProductController
   public function ProductDataUpdate(Request $request){
        $product_id = $request->id;

        Product::findOrFail($product_id)->update([           
            'brand_id' => $request->brand_id, 
           'category_id' => $request->category_id,
           'subcategory_id' => $request->subcategory_id,
           'subsubcategory_id' => $request->subsubcategory_id,
           'product_name_en' => $request->product_name_en,
           'product_name_hin' => $request->product_name_hin,
           'product_slug_en' => strtolower(str_replace(' ','-' ,$request->product_slug_en)),
           'product_slug_hin' => strtolower(str_replace(' ','-' ,$request->product_slug_hin)),
           'product_code' => $request->product_code,
           'product_qty' => $request->product_qty,
           'product_tags_en' => $request->product_tags_en,
           'product_tags_hin' => $request->product_tags_hin,
           'product_size_en' => $request->product_size_en,
           'product_size_hin' => $request->product_size_hin,
           'product_color_en' => $request->product_color_en,
           'product_color_hin' => $request->product_color_hin,
           'selling_price' => $request->selling_price,
           'discount_price' => $request->discount_price,
           'short_desc_en' => $request->short_desc_en,
           'short_desc_hin' => $request->short_desc_hin,
           'long_desc_en' => $request->long_desc_en,
           'long_desc_hin' => $request->long_desc_hin,
           'hot_deals' => $request->hot_deals,
           'featured' => $request->featured,
           'special_offer' => $request->special_offer,
           'special_deals' => $request->special_deals,

            'status' => 1,
           'updated_at' => Carbon::now(),   
 

        ]);

        $notification = array(
			'message' => 'Product Updated Without Image Successfully',
			'alert-type' => 'success'
		);
 
		return redirect()->route('manage-product')->with($notification);



    }



(166) Manage Product Update Single & Multiple Image Part 1

We added a section to the bottom of product_edit dedicated to image editing
I used a box from card_color.html and then added a card from
https://getbootstrap.com/docs/5.0/components/card/#example
        <!-- /////////////// Start Multiple Image Update Area ////////////// -->

        <section class="content">
            <div class="row">

                <div class="col-md-6">
                    <div class="box bt-3 border-info">
                      <div class="box-header">
                        <h4 class="box-title">Product Multiple Image <strong>Update</strong></h4>
                      </div>

                      <form method="post" action="{{ route('update-product-image') }}" enctype="multipart/form-data">
                        @csrf
                        <div class="row row-sm">
                            @foreach($multiImgs as $img)
                            <div class="col-md-3">

                                <div class="card">
                                    <img src="{{ asset($img->photo_name) }}" class="card-img-top" style="height: 130px; width: 280px;">
                                    <div class="card-body">
                                      <h5 class="card-title">
                                          <a href="" class="btn btn-danger btn-sm" id="delete" name="delete" title="Delete Data"><i class="fa fa-trash"></i></a>
                                      </h5>
                                      <p class="card-text">
                                          <div class="form-group">
                                              <label class="form-control-label">Change Image<span class="tx-danger">*</span></label>
                                              <input class="form-control" type="file" name="multi_img[{{ $img->id }}]">
                                          </div>
                                      </p>
                                    </div>
                                  </div>


                            </div> {{-- End col md 3 --}}
                            @endforeach
                        </div>

                        <div class="form-layout-footer">
                            <input type="submit" class="btn btn-rounded btn-primary mb-5"
                            value="Update Image">
       
                        </div>
                    
                    </form>
                     </div>
                  </div>

            </div> <!-- end row -->



        </section>
               <!-- /////////////// End Multiple Image Update Area ////////////// -->

(167) Manage Product Update Single & Multiple Image Part 2

in web.php
   Route::post('/image/update', [ProductController::class, 'MutiImageUpdate'])->name('update-product-image'); 

in ProductController
   public function MutiImageUpdate(Request $request){
        $imgs = $request->multi_img;

        foreach ($imgs as $id => $img) {
            $x = $img;
            $imgDel = MultiImg::findOrFail($id);
            unlink($imgDel->photo_name);
            $make_name = hexdec(uniqid()).'.'.$img->getClientOriginalExtension();

            Image::make($img)->resize(917,1000)->save('upload/products/multi-image/'.$make_name);
            $uploadPath = 'upload/products/multi-image/'.$make_name;

            MultiImg::where('id',$id)->update([
                'photo_name' => $uploadPath,
                'updated_at' => Carbon::now(),

            ]);
    

        } // end foreach

        $notification = array(
			'message' => 'Product Images Updated Successfully',
			'alert-type' => 'info'
		);


        return redirect()->back()->with($notification);
    }


(168) Manage Product Update Single & Multiple Image Part 3

product_edit
                       <!-- /////////////// Start Thumbnail Image Update Area ////////////// -->

        <section class="content">
            <div class="row">

                <div class="col-md-6">
                    <div class="box bt-3 border-info">
                      <div class="box-header">
                        <h4 class="box-title">Product Thumbnail Image <strong>Update</strong></h4>
                      </div>

                      <form method="post" action="{{ route('update-product-thumbnail') }}" enctype="multipart/form-data">
                        @csrf
                        <input type="hidden" name="id" value="{{ $products->id }}">
                        <input type="hidden" name="old_img" value="{{ $products->product_thumbnail }}">
                        <div class="row row-sm">
                           
                            <div class="col-md-3">

                                <div class="card">
                                    <img src="{{ asset($products->product_thumbnail) }}" class="card-img-top" style="height: 130px; width: 280px;">
                                    <div class="card-body">
                                    <p class="card-text">
                                          <div class="form-group">
                                              <label class="form-control-label">Change Image<span class="tx-danger">*</span></label>
                                              <input type="file" name="product_thumbnail" id="product_thumbnail"
                                              class="form-control" onChange="mainThumbUrl(this)" >
                                              <img src="" id="mainThmb">

                                                                            </div>
                                      </p>
                                    </div>
                                  </div>


                            </div> {{-- End col md 3 --}}
                           
                        </div>

                        <div class="form-layout-footer">
                            <input type="submit" class="btn btn-rounded btn-primary mb-5"
                            value="Update Image">
       
                        </div>
                    
                    </form>
                     </div>
                  </div>

            </div> <!-- end row -->



        </section>
               <!-- /////////////// End Thumbnail Image Update Area ////////////// -->

web.php
   Route::post('/thumbnail/update', [ProductController::class, 'ThumbnailImageUpdate'])->name('update-product-thumbnail'); 



ProductController
    public function ThumbnailImageUpdate(Request $request){
       $pro_id = $request->id;
       $oldImage = $request->old_img;
       unlink($oldImage);
       
       $image = $request->file('product_thumbnail');
       $name_gen = hexdec(uniqid()).'.'.$image->getClientOriginalExtension();
       Image::make($image)->resize(917,1000)->save('upload/products/thumbnail/'.$name_gen);
       $save_url = 'upload/products/thumbnail/'.$name_gen;
      
       Product::findOrFail($pro_id)->update([
        'product_thumbnail' => $save_url,
        'updated_at' => Carbon::now(),

    ]);
    $notification = array(
        'message' => 'Product Thumbnail Image Updated Successfully',
        'alert-type' => 'info'
    );


    return redirect()->back()->with($notification);

       
    }


(169) Multiple image Delete


product_edit
<a href="{{ route('product.multiimg.delete',$img->id) }}" class="btn btn-danger btn-sm" id="delete" name="delete" title="Delete Data"><i class="fa fa-trash"></i></a>


web.php
  Route::get('/multiimg/delete/{id}', [ProductController::class, 'MutiImageDelete'])->name('product.multiimg.delete');

ProductController
    public function MutiImageDelete($id){
        $oldimg = MultiImg::findOrFail($id);
        unlink($oldimg->photo_name);
        MultiImg::findOrFail($id)->delete();

        $notification = array(
            'message' => 'Product Image Deleted Successfully',
            'alert-type' => 'success'
        );

        return redirect()->back()->with($notification);
    }

(169b) Multi Image Insert

product_edit

        <!-- /////////////// Start Multiple Image Insert Area ////////////// -->

        <section class="content">
            <div class="row">
                <div class="col-md-6">
                    <div class="box bt-3 border-info">
                        <div class="box-header">
                            <h4 class="box-title">Product Multiple Image <strong>Insert</strong></h4>
                        </div>

                        <form method="post" action="{{ route('insert-product-images') }}" enctype="multipart/form-data">
                            @csrf
                            <input type="hidden" name="id" value="{{ $products->id }}">
                            <div class="row row-sm">
                                <div class="col-md-3">

                                    <div class="card">
                                        <div class="card-body">
                                            <h5 class="card-title">
                                            </h5>
                                            <p class="card-text">
                                            <div class="form-group">
                                                <label class="form-control-label">Insert Image<span
                                                        class="tx-danger">*</span></label>
                                                <input type="file" name="multi_img2[]" class="form-control" multiple=""
                                                    id="multiImg">
                                                <div class="row" id="preview_img" class="card-img-top"
                                                    style="height: 130px; width: 280px;"></div>

                                            </div>

                                            </p>
                                        </div>
                                    </div>


                                </div> {{-- End col md 3 --}}
                            </div>

                            <div class="form-layout-footer">
                                <input type="submit" class="btn btn-rounded btn-primary mb-5" value="Insert Images">

                            </div>

                        </form>
                    </div>
                </div>

            </div> <!-- end row -->



        </section>
        <!-- /////////////// End Multiple Image Insert Area ////////////// -->

    <script>
        $(document).ready(function() {
            $('#multiImg').on('change', function() { //on file input change
                if (window.File && window.FileReader && window.FileList && window
                    .Blob) //check File API supported browser
                {
                    var data = $(this)[0].files; //this file data

                    $.each(data, function(index, file) { //loop though each file
                        if (/(\.|\/)(gif|jpe?g|png|jpg)$/i.test(file
                                .type)) { //check supported file type
                            var fRead = new FileReader(); //new filereader
                            fRead.onload = (function(file) { //trigger function on successful read
                                return function(e) {
                                    var img = $('<img/>').addClass('thumb').attr('src',
                                            e.target.result).width(80)
                                        .height(80); //create image element 
                                    $('#preview_img').append(
                                        img); //append image to output element
                                };
                            })(file);
                            fRead.readAsDataURL(file); //URL representing the file's data.
                        }
                    });

                } else {
                    alert("Your browser doesn't support File API!"); //if File API is absent
                }
            });
        });
    </script>

    web.php
    Route::post('/multiimg/insert', [ProductController::class, 'MultiImageInsert'])->name('insert-product-images'); 


    ProductController
    public function MultiImageInsert(Request $request){
        $product_id = $request->id;
                ////////// Multiple Image Upload Start ///////////

      $images = $request->file('multi_img2');
      foreach ($images as $img) {
       	$make_name = hexdec(uniqid()).'.'.$img->getClientOriginalExtension();
    	Image::make($img)->resize(917,1000)->save('upload/products/multi-image/'.$make_name);
    	$uploadPath = 'upload/products/multi-image/'.$make_name;

    	MultiImg::insert([

    		'product_id' => $product_id,
    		'photo_name' => $uploadPath,
    		'created_at' => Carbon::now(), 

    	]);

      }

      ////////// End Multiple Image Upload  ///////////
      $notification = array(
        'message' => 'Product Images Inserted Successfully',
        'alert-type' => 'info'
    );


    return redirect()->back()->with($notification);

    }



(170) Product Active Inactive

product_view

                                        <tr>
                                            <th>Image</th>
                                            <th>Product Name En</th>
                                            <th>Product Price</th>  
                                            <th>Quantity</th>  
                                            <th>Discount</th>
                                            <th>Status</th>                                        
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach ($products as $item)
                                            <tr>
                                                <td><img src="{{ asset($item->product_thumbnail) }}" style="width: 60px; height: 50px;"></td>
                                                <td>{{ $item->product_name_en }}</td>
                                                <td>{{ $item->selling_price }}</td>
                                                <td>{{ $item->product_qty }}</td>
                                                <td>{{ $item->discount_price }}</td>
                                                <td>
                                                    @if($item->status == 1)
                                                    <span class="badge badge-pill badge-success">Active</span>
                                                    @else
                                                    <span class="badge badge-pill badge-danger">InActive</span>
                                                    @endif
                                                </td>
                                                  <td>  
                                                    <a href="{{ route('product.details', $item->id) }}" class="btn btn-primary" title"Details Data"><i class="fa fa-eye"></i></a>

New route for product.details link
    Route::get('/details/{id}', [ProductController::class, 'ViewProduct'])->name('product.details');


ViewProduct method
   public function ViewProduct($id){
        $multiImgs = MultiImg::where('product_id',$id)->get();
        $products = Product::findOrFail($id);
        $categories = Category::findOrFail($products->category_id);
        $brands = Brand::latest()->findOrFail($products->brand_id);
        $subcategory = SubCategory::findOrFail($products->subcategory_id);
        $subsubcategory = SubSubCategory::findOrFail($products->subsubcategory_id);
       
        return view('backend.product.product_details',compact('categories','brands','subcategory','subsubcategory','products','multiImgs'));
    }

    product_details
    @extends('admin.admin_master')
@section('admin')
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


    <div class="container-full">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <section class="content">

            <!-- Basic Forms -->
            <div class="box">
                <div class="box-header with-border">
                    <h4 class="box-title">View Product Details</h4>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <div class="row">
                        <div class="col">
                            <form method="" action="">
                                @csrf
                                 <div class="row">
                                    <div class="col-12">
                                        <!-- 1st row -->
                                        <div class='row'>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Brand</h5>
                                                    <div class="controls">
                                                        <input type="text" name="brand_name_en" id="brand_name_en"
                                                            class="form-control" 
                                                            value="{{ $brands->brand_name_en }}" readonly>
                                                    </div>

                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Category</h5>
                                                    <div class="controls">
                                                        <input type="text" name="category_name_en" id="category_name_en"
                                                            class="form-control" 
                                                            value="{{ $categories->category_name_en }}" readonly>
                                                    </div>

 
                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>SubCategory</h5>
                                                    <div class="controls">
                                                        <input type="text" name="subcategory_name_en" id="subcategory_name_en"
                                                            class="form-control" 
                                                            value="{{ $subcategory->subcategory_name_en }}" readonly>
                                                    </div>

 
                                                </div>

                                            </div>
                                        </div>
                                        <!-- End 1st Row -->


                                        <!-- 2nd row -->
                                        <div class='row'>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>SubSubCategory Select </h5>
                                                    <div class="controls">
                                                        <input type="text" name="subsubcategory_name_en" id="subsubcategory_name_en"
                                                            class="form-control" 
                                                            value="{{ $subsubcategory->subsubcategory_name_en }}" readonly>
                                                    </div>


                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Name En</h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_name_en" id="product_name_en"
                                                            class="form-control" 
                                                            value="{{ $products->product_name_en }}" readonly>
                                                    </div>

                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Name Hin</h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_name_hin" id="product_name_hin"
                                                            class="form-control" 
                                                            value="{{ $products->product_name_hin }}" readonly>
                                                    </div>
 
                                                </div>

                                            </div>
                                        </div>
                                        <!-- End 2nd Row -->

                                        <!-- 3rd row -->
                                        <div class='row'>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Code</h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_code" id="product_code"
                                                            class="form-control" 
                                                            value="{{ $products->product_code }}" readonly>
                                                    </div>
 
                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Qty</h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_qty" id="product_qty"
                                                            class="form-control" 
                                                            value="{{ $products->product_qty }}" readonly>
                                                    </div>

                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Tags En</h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_tags_en" id="product_tags_en"
                                                            class="form-control" data-role="tagsinput"
                                                            value="{{ $products->product_tags_en }}" readonly disabled>
                                                    </div>
 
                                                </div>

                                            </div>
                                        </div>
                                        <!-- End 3rd Row -->

                                        <!-- 4th row -->
                                        <div class='row'>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Tags Hin</h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_tags_hin" id="product_tags_hin"
                                                            class="form-control" data-role="tagsinput"
                                                            value="{{ $products->product_tags_hin }}" readonly disabled>
                                                    </div>

                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Size En</h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_size_en" id="product_size_en"
                                                            class="form-control" data-role="tagsinput"
                                                            value="{{ $products->product_size_en }}" readonly disabled>
                                                    </div>
 
                                                </div>

                                            </div>
                                            <div class='col-md-4'>
                                                <div class="form-group">
                                                    <h5>Product Size Hin</h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_size_hin" id="product_size_hin"
                                                            class="form-control" data-role="tagsinput"
                                                            value="{{ $products->product_size_hin }}" readonly disabled>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>
                                        <!-- End 4th Row -->

                                        <!-- 5th row -->
                                        <div class='row'>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Product Color En</h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_color_en" id="product_color_en"
                                                            class="form-control" data-role="tagsinput"
                                                            value="{{ $products->product_color_en }}" readonly disabled>
                                                    </div>
 
                                                </div>

                                            </div>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Product Color Hin</h5>
                                                    <div class="controls">
                                                        <input type="text" name="product_color_hin" id="product_color_hin"
                                                            class="form-control" data-role="tagsinput"
                                                            value="{{ $products->product_color_hin }}" readonly disabled>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>
                                        <!-- End 5th Row -->

                                        <!-- 6th row -->

                                        <div class='row'>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Product Selling Price</h5>
                                                    <div class="controls">
                                                        <input type="text" name="selling_price" id="selling_price"
                                                            class="form-control" 
                                                            value="{{ $products->selling_price }}" readonly>
                                                    </div>
 
                                                </div>

                                            </div>

                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Product Discount Price</h5>
                                                    <div class="controls">
                                                        <input type="text" name="discount_price" id="discount_price"
                                                            class="form-control" 
                                                            value="{{ $products->discount_price }}" readonly>
                                                    </div>
                                                 </div>

                                            </div>
                                        </div>
                                        <!-- End 6th Row -->

                                        <!-- 7th row -->
                                        <div class='row'>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Short Description English</h5>
                                                    <div class="controls">
                                                        <textarea name="short_desc_en" id="short_desc_en"
                                                            class="form-control"  readonly>{{ $products->short_desc_en }}
                                                            </textarea>

                                                    </div>

                                                </div>
                                            </div>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Short Description Hindi
                                                    </h5>
                                                    <div class="controls">
                                                        <textarea name="short_desc_hin" id="short_desc_hin"
                                                            class="form-control"  readonly>{{ $products->short_desc_hin }}
                                                            </textarea>

                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <!-- End 7th Row -->

                                        <!-- 8th row -->
                                        <div class='row'>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Long Description English</h5>
                                                    <div class="controls">
                                                        <textarea id="editor1" name="long_desc_en" rows="10" cols="80" readonly>
                                                                {{ $products->long_desc_en }}
                                                            </textarea>

                                                    </div>

                                                </div>
                                            </div>
                                            <div class='col-md-6'>
                                                <div class="form-group">
                                                    <h5>Long Description Hindi</h5>
                                                    <div class="controls">
                                                        <textarea id="editor2" name="long_desc_hin" rows="10" cols="80" readonly>
                                                                {{ $products->long_desc_hin }}
                                                            </textarea>

                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <!-- End 8th Row -->

                                        <hr>



                                        <div class="row">

                                            <div class="col-md-6">
                                                <div class="form-group">

                                                    <div class="controls">
                                                        <fieldset>
                                                            <input type="checkbox" id="checkbox_2" name="hot_deals"
                                                                value="1"
                                                                {{ $products->hot_deals == 1 ? 'checked' : '' }} readonly>
                                                            <label for="checkbox_2">Hot Deals</label>
                                                        </fieldset>
                                                        <fieldset>
                                                            <input type="checkbox" id="checkbox_3" name="featured" value="1"
                                                                {{ $products->featured == 1 ? 'checked' : '' }} readonly>
                                                            <label for="checkbox_3">Featured</label>
                                                        </fieldset>
                                                    </div>
                                                </div>
                                            </div>



                                            <div class="col-md-6">
                                                <div class="form-group">

                                                    <div class="controls">
                                                        <fieldset>
                                                            <input type="checkbox" id="checkbox_4" name="special_offer"
                                                                value="1"
                                                                {{ $products->special_offer == 1 ? 'checked' : '' }} readonly>
                                                            <label for="checkbox_4">Special Offer</label>
                                                        </fieldset>
                                                        <fieldset>
                                                            <input type="checkbox" id="checkbox_5" name="special_deals"
                                                                value="1"
                                                                {{ $products->special_deals == 1 ? 'checked' : '' }} readonly>
                                                            <label for="checkbox_5">Special Deals</label>
                                                        </fieldset>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">

                                            <div class="col-md-6">
                                                <div class="box bt-3 border-info">
                                                    <div class="box-header">
                                                        <h4 class="box-title">Product Multiple Image <strong>View</strong></h4>
                                                    </div>
                            
                                                    <form method="" action="">
                                                        @csrf
                                                        <div class="row row-sm">
                                                            @foreach ($multiImgs as $img)
                                                                <div class="col-md-3">
                            
                                                                    <div class="card">
                                                                        <br><br>
                                                                        <img src="{{ asset($img->photo_name) }}" class="card-img-top"
                                                                            style="height: 130px; width: 280px;">
                                                                        <div class="card-body">
                                                                            <h5 class="card-title">
                                                                             </h5>
                                                                         </div>
                                                                    </div>
                            
                            
                                                                </div> {{-- End col md 3 --}}
                                                            @endforeach
                                                        </div>
                            
                                                        <div class="form-layout-footer">
                             
                                                        </div>
                            
                                                    </form>
                                                </div>
                                            </div>
                            
                            
                                        </div> <!-- end row -->
                                        <div class="row">

                                            <div class="col-md-6">
                                                <div class="box bt-3 border-info">
                                                    <div class="box-header">
                                                        <h4 class="box-title">Product Thumbnail Image <strong>View</strong></h4>
                                                    </div>
                            
                                                    <form method="" action="" >
                                                        @csrf
                                                        <div class="row row-sm">
                            
                                                            <div class="col-md-3">
                            
                                                                <div class="card">
                                                                    <br><br>
                                                                    <img src="{{ asset($products->product_thumbnail) }}" class="card-img-top"
                                                                        style="height: 130px; width: 280px;">
                                                                    <div class="card-body">
                                                                    </div>
                                                                </div>
                            
                            
                                                            </div> {{-- End col md 3 --}}
                            
                                                        </div>
                            
                                                        <div class="form-layout-footer">
                              
                                                        </div>
                            
                                                    </form>
                                                </div>
                                            </div>
                            
                                        </div> <!-- end row -->
                            

                                        <div class="text-xs-right">
                                            <a href="{{ route('manage-product') }}" class="btn btn-rounded btn-primary mb-5" role="button">Continue</a>
                                         </div>
                            </form>

                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- /.row -->
                </div>
                <!-- /.box-body -->
            </div>
            <!-- /.box -->

        </section>
        <!-- /.content -->

    </div>

 @endsection


See github for these changes


(171) Product Delete With Multiple Image

product_view
<a href="{{ route('product.delete', $item->id) }}" class="btn btn-info" id="delete" title"Delete Data"><i class="fa fa-trash"></i></a>

web.php
   Route::get('/delete/{id}', [ProductController::class, 'ProductDelete'])->name('product.delete');


ProductController
    public function ProductDelete($id){
        $product = Product::findOrFail($id);
        $images = MultiImg::where('product_id',$id)->get();
        foreach ($images as $img) {
            unlink($img->photo_name);
            MultiImg::where('product_id',$id)->delete();

        }
        unlink($product->product_thumbnail);
        Product::findOrFail($id)->delete();


       $notification = array(
            'message' => 'Product Deleted Successfully',
            'alert-type' => 'success'
        );

        return redirect()->back()->with($notification);


    }



(172) Upload Slider and Show All Slider List Part 1

sidebar
<li class="treeview {{ ($prefix == '/slider')? 'active':'' }}">
    <a href="#">
        <i data-feather="file"></i>
        <span>Slider</span>
        <span class="pull-right-container">
            <i class="fa fa-angle-right pull-right"></i>
        </span>
    </a>
    <ul class="treeview-menu">
    <li class="{{ ($route == 'manage-slider')? 'active':'' }}"><a href="{{ route('manage-slider') }}"><i class="ti-more"></i>Manage Slider</a></li>
    </ul>
</li>


php artisan make:controller Backend/SliderController
php artisan make:model Slider -m

    public function up()
    {
        Schema::create('sliders', function (Blueprint $table) {
            $table->id();
            $table->string('slider_img');
            $table->string('title')->nullable();
            $table->text('description')->nullable();
            $table->integer('status')->default(1);
            $table->timestamps();
        });
    }

class Slider extends Model
{
    use HasFactory;
    protected $guarded = [];
}


php artisan migrate

web.php
use App\Http\Controllers\Backend\SliderController;
    Route::get('/view', [SliderController::class, 'SliderView'])->name('manage-slider'); 


SliderController
use App\Models\Slider;
use Carbon\Carbon;
use Image;
    public function SliderView(){
        $sliders = Slider::latest()->get();
        return view('backend.slider.slider_view',compact('sliders'));
    }


I create backend.slider.slider_view
MT 

(173) Upload Slider and Show All Slider List Part 2

slider_view
@extends('admin.admin_master')
@section('admin')
    <div class="container-full">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <section class="content">
            <div class="row">

                <div class="col-8">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Slider List</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <table id="example1" class="table table-bordered table-striped">
                                    <thead>

                                        <tr>
                                            <th>Slider Image</th>
                                            <th>Title</th>
                                            <th>Description</th>
                                            <th>Status</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach ($sliders as $item)
                                            <tr>
                                                <td><img src="{{ asset($item->slider_img) }}"
                                                    style="width: 70px; height: 40px;"></td>

                                                <td>
                                                    @if($item->title == NULL)
                                                    <span class="badge badge-pill badge-danger">No Title</span>
                                                    @else
                                                    {{ $item->title }}
                                                    @endif

                                                    
                                                    
                                                    </td>
                                                <td>{{ $item->description }}</td>
                                                <td>
                                                    @if($item->status == 1)
                                                    <span class="badge badge-pill badge-success">Active</span>
                                                    @else
                                                    <span class="badge badge-pill badge-danger">InActive</span>
                                                    @endif
                                                </td>

                                                <td width="30%">
                                                    <a href="{{ route('brand.edit', $item->id) }}" class="btn btn-info btn-sm" title"Edit Data"><i class="fa fa-pencil"></i></a>
                                                    <a href="{{ route('brand.delete', $item->id) }}" class="btn btn-info btn-sm" id="delete" title"Delete Data"><i class="fa fa-trash"></i></a>
                                                    @if($item->status == 1)
                                                    <a href="{{ route('product.inactive', $item->id) }}" class="btn btn-danger btn-sm" title"Deactivate"><i class="fa fa-arrow-down"></i></a>
                                                    @else
                                                    <a href="{{ route('product.active', $item->id) }}" class="btn btn-success btn-sm" title"Activate"><i class="fa fa-arrow-up"></i></a>
                                                    @endif

                                                </td>
                                            </tr>
                                        @endforeach
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>
                <!-- /.col -->
                <!-- -------------- Add Slider Page ---------------- -->
                <div class="col-4">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Add Slider</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <form method="post" action="{{ route('slider.store') }}" enctype="multipart/form-data">
                                    @csrf
                                                <div class="form-group">
                                                    <h5Slider Title<span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="title" name="title"
                                                            class="form-control">
                                                             </div>
                                                </div>

                                                <div class="form-group">
                                                    <h5>Slider Description <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="text" id="description" name="description"
                                                            class="form-control">
                                                    </div>
                                                </div>


                                                <div class="form-group">
                                                    <h5>Slider Image <span class="text-danger">*</span></h5>
                                                    <div class="controls">
                                                        <input type="file" id="slider_img"
                                                            name="slider_img" class="form-control">
                                                            @error('slider_img')
                                                            <span class="text-danger">{{ $message }}</span>
                                                            @enderror

                                                    </div>
                                                </div>    
                                    <div class="text-xs-right">
                                        <input type="submit" class="btn btn-rounded btn-primary mb-5" value="Add">
                                    </div>
                                </form>

                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>

            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->
    </div>


@endsection





web.php slider.store
    Route::post('/store', [SliderController::class, 'SliderStore'])->name('slider.store'); 

SliderController
    public function SliderStore(Request $request) {
        $request->validate([
            'slider_img' => 'required',
           ],[
            'slider_img.required' => 'Please Select Image',
         ]);
        $image = $request->file('slider_img');
        $name_gen = hexdec(uniqid()).'.'.$image->getClientOriginalExtension();
        Image::make($image)->resize(870,370)->save('upload/slider/'.$name_gen);
        $save_url = 'upload/slider/'.$name_gen;
        Slider::insert([
            'title'  => $request->title,
            'description'  => $request->description,
            'slider_img'  => $save_url,

        ]);
        $notification = array(
            'message' => 'Slider Inserted Successfully',
            'alert-type' => 'success'
        );
        return redirect()->back()->with($notification);
    }

(174) Slider Edit & Update Delete Part 1

slider_view
<a href="{{ route('slider.edit', $item->id) }}" class="btn btn-info btn-sm" title"Edit Data"><i class="fa fa-pencil"></i></a>

web.php
Route::get('/edit/{id}', [SliderController::class, 'SliderEdit'])->name('slider.edit'); 


SliderController
    public function SliderEdit($id){
        $sliders = Slider::findOrFail($id);
        return view('backend.slider.slider_edit',compact('sliders'));
    }


slider_edit
@extends('admin.admin_master')
@section('admin')
    <div class="container-full">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <section class="content">
            <div class="row">


                <!-- -------------- Edit Slider Page ---------------- -->
                <div class="col-12">

                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">Edit Slider</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="table-responsive">
                                <form method="post" action="{{ route('slider.update') }}"
                                    enctype="multipart/form-data">
                                    @csrf
                                    <input type="hidden" name="id" id="id" value="{{ $sliders->id }}">
                                    <input type="hidden" name="old_image" id="old_image"
                                        value="{{ $sliders->slider_img }}">
                                    <div class="form-group">
                                        <h5>Slider Title <span class="text-danger">*</span></h5>
                                        <div class="controls">
                                            <input type="text" id="title" name="title" class="form-control"
                                                value="{{ $sliders->title }}">
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <h5>Slider Description<span class="text-danger">*</span></h5>
                                        <div class="controls">
                                            <input type="text" id="description" name="description" class="form-control"
                                                value="{{ $sliders->description }}">
                                        </div>
                                    </div>


                                    <div class="form-group">
                                        <h5>Slider Image <span class="text-danger">*</span></h5>
                                        <div class="controls">
                                            <input type="file" id="slider_img" name="slider_img" class="form-control">
                                            @error('slider_img')
                                                <span class="text-danger">{{ $message }}</span>
                                            @enderror

                                        </div>
                                    </div>
                                    <div class="text-xs-right">
                                        <input type="submit" class="btn btn-rounded btn-primary mb-5" value="Update">
                                    </div>
                                </form>

                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->


                </div>

            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->
    </div>


@endsection

web.php
Route::post('/update', [SliderController::class, 'SliderUpdate'])->name('slider.update');

SliderController
    public function SliderUpdate(Request $request) {
        $slider_id = $request->id;
        $old_img = $request->old_image;

        if ($request->file('slider_img')) {
            if ($old_img) {
            unlink($old_img);
            }
            $image = $request->file('slider_img');
            $name_gen = hexdec(uniqid()).'.'.$image->getClientOriginalExtension();
            Image::make($image)->resize(870,370)->save('upload/slider/'.$name_gen);
            $save_url = 'upload/slider/'.$name_gen;
            Slider::findOrFail($slider_id)->update([
                'title'  => $request->title,
                'description'  => $request->description,
                'slider_img'  => $save_url,
    
            ]);
            $notification = array(
                'message' => 'Slider Updated Successfully',
                'alert-type' => 'info'
            );
            return redirect()->route('manage-slider')->with($notification);

        } else {
            Slider::findOrFail($slider_id)->update([
                'title'  => $request->title,
                'description'  => $request->description,
     
            ]);
            $notification = array(
                'message' => 'Slider Updated Without Image Successfully',
                'alert-type' => 'info'
            );
            return redirect()->route('manage-slider')->with($notification);
        }

    }


(174) Slider Edit & Update Delete Part 2

slider_view
<a href="{{ route('slider.delete', $item->id) }}" class="btn btn-info btn-sm" id="delete" title"Delete Data"><i class="fa fa-trash"></i></a>


web.php
Route::get('/delete/{id}', [SliderController::class, 'SliderDelete'])->name('slider.delete'); 

SliderController
    public function SliderDelete($id){
        $slider = Slider::findOrFail($id);
        $img = $slider->slider_img;
        unlink($img);

        Slider::findOrFail($id)->delete();
        $notification = array(
            'message' => 'Slider Deleted Successfully',
            'alert-type' => 'info',
        );
        return redirect()->back()->with($notification);
    }

(176) Slider Active Inactive

slider_view
@if($item->status == 1)
<span class="badge badge-pill badge-success">Active</span>
@else
<span class="badge badge-pill badge-danger">InActive</span>
@endif


@if($item->status == 1)
<a href="{{ route('slider.inactive', $item->id) }}" class="btn btn-danger btn-sm" title"Deactivate"><i class="fa fa-arrow-down"></i></a>
@else
<a href="{{ route('slider.active', $item->id) }}" class="btn btn-success btn-sm" title"Activate"><i class="fa fa-arrow-up"></i></a>
@endif

web.php
Route::get('/inactive/{id}', [SliderController::class, 'SliderInactive'])->name('slider.inactive');
Route::get('/active/{id}', [SliderController::class, 'SliderActive'])->name('slider.active');

SliderController
    public function SliderInactive($id){
        Slider::findOrFail($id)->update(['status' => 0 ]);
        $notification = array(
            'message' => 'Slider Inactive',
            'alert-type' => 'success'
        );

        return redirect()->back()->with($notification);
    }

    public function SliderActive($id){
        Slider::findOrFail($id)->update(['status' => 1 ]);
        $notification = array(
            'message' => 'Slider Active',
            'alert-type' => 'success'
        );

        return redirect()->back()->with($notification);
    }


(177) Fix Error for Protect Admin Dashboard

added this to the end of all admin related routes
->middleware('auth:admin')

In RedirectIfAuthenticated
replaced this line
return redirect($guard.'/dashboard');
with this
return redirect(RouteServiceProvider::HOME);

(178) Working With Multiple Language


frontend header
@if(session()->get('language') == 'hindi')
<li><a href="{{ route('english.language') }}">English</a></li>
@else
<li><a href="{{ route('hindi.language') }}"></a></li>
@endif


php artisan make:controller Frontend/LanguageController

web.php
use App\Http\Controllers\Frontend\LanguageController;
Route::get('/language/hindi', [LanguageController::class, 'Hindi'])->name('hindi.language'); 
Route::get('/language/english', [LanguageController::class, 'English'])->name('english.language'); 


LanguageController
use Illuminate\Support\Facades\Session;
class LanguageController extends Controller
{
    public function Hindi(){
        session()->get('language');
        session()->forget('language');
        Session::put('language','hindi');
        return redirect()->back();

    }

    public function English(){
        session()->get('language');
        session()->forget('language');
        Session::put('language','english');
        return redirect()->back();

    }
}
translations for header
@if(session()->get('language') == 'hindi') - @else Wishlist @endif
@if(session()->get('language') == 'hindi')   @else My Cart @endif
@if(session()->get('language') == 'hindi')   @else Checkout @endif
@if(session()->get('language') == 'hindi')   @else User Profile @endif
@if(session()->get('language') == 'hindi')  / @else Login/Register @endif



(179) Frontend Show Category Subcategory and Subsubcategory Part 1

At this point I made the header menus more dynamic
 <!-- // Get Category Table Data -->
@php
  $categories = App\Models\Category::orderBy('category_name_en','ASC')->get();
@endphp
                                @foreach($categories as $category)
                                <li class="dropdown yamm mega-menu"> <a href="home.html" data-hover="dropdown"
                                        class="dropdown-toggle" data-toggle="dropdown">{{ $category->category_name_en }}
                                    </a>
                                    <ul class="dropdown-menu container">
                                        <li>
                                            <div class="yamm-content ">
                                                <div class="row">
 <!-- // Get SubCategory Table Data -->
 @php
 $subcategories = App\Models\SubCategory::where('category_id',$category->id)->orderBy('subcategory_name_en','ASC')->get();
@endphp
                                                    @foreach($subcategories as $subcategory)
                                                    <div class="col-xs-12 col-sm-6 col-md-2 col-menu">
                                                        <h2 class="title">{{ $subcategory->subcategory_name_en }}
                                                        </h2>
 <!-- // Get SubSubCategory Table Data -->
 @php
 $subsubcategories = App\Models\SubSubCategory::where('subcategory_id',$subcategory->id)->orderBy('subsubcategory_name_en','ASC')->get();
@endphp
                                                        @foreach($subsubcategories as $subsubcategory)
                                                        <ul class="links">
                                                            <li><a href="#">{{ $subsubcategory->subsubcategory_name_en }}</a></li>
                                                        </ul>
                                                        @endforeach
                                                    </div>
                                                    <!-- /.col -->
                                                    @endforeach

                                                    <div class="col-xs-12 col-sm-6 col-md-4 col-menu banner-image">
                                                        <img class="img-responsive"
                                                            src="{{ asset('frontend/assets/images/banners/top-menu-banner.jpg') }}"
                                                            alt="">
                                                    </div>
                                                    <!-- /.yamm-content -->
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                                @endforeach


(180) Frontend Show Category Subcategory and Subsubcategory Part 2

Here I finish out the header menus with the multilingual logic
@if (session()->get('language') == 'hindi') {{ $category->category_name_hin }} @else {{ $category->category_name_en }} @endif
@if (session()->get('language') == 'hindi') {{ $subcategory->subcategory_name_hin }} @else {{ $subcategory->subcategory_name_en }} @endif
@if (session()->get('language') == 'hindi') {{ $subsubcategory->subsubcategory_name_hin }} @else {{ $subsubcategory->subsubcategory_name_en }} @endif


(181) Frontend Show Category Subcategory and Subsubcategory Part 3

Here I begin work on index.blade.php
I start by modifying IndexController to pass category data.  
We then pick up the categories in index.blade  and add translation logic.

(182) Frontend Show Category Subcategory and Subsubcategory Part 4

Here I basically duplicate the code from header for subcategories and subsubcategories



(183) Frontend Dynamic Main Sliders

here I added sliders to IndexController Index method
    public function index(){
        $sliders = Slider::where('status',1)->orderBy('id','DESC')->limit(3)->get();
        $categories = Category::orderBy('category_name_en','ASC')->get();
        return view('frontend.index',compact('categories','sliders'));
    }

Next I add a foreach loop to display the sliders
              @foreach($sliders as $slider)
              <div class="item" style="background-image: url({{ asset($slider->slider_img) }});">
                <div class="container-fluid">
                  <div class="caption bg-color vertical-center text-left">
                    <div class="big-text fadeInDown-1">{{ $slider->title }} </div>
                    <div class="excerpt fadeInDown-2 hidden-xs"> <span>{{ $slider->description }}</span> </div>
                    <div class="button-holder fadeInDown-3"> <a href="index.php?page=single-product" class="btn-lg btn btn-uppercase btn-primary shop-now-button">Shop Now</a> </div>
                  </div>
                  <!-- /.caption --> 
                </div>
                <!-- /.container-fluid --> 
              </div>
              @endforeach


(184) Frontend Dynamic Bootstrap Tabs Part 1

I added Product to IndexController and pulled products into NewProducts Area

(185) Frontend Dynamic Bootstrap Tabs Part 2

    public function index(){
        $products = Product::where('status',1)->orderBy('id','DESC')->get();
        $sliders = Slider::where('status',1)->orderBy('id','DESC')->limit(3)->get();
        $categories = Category::orderBy('category_name_en','ASC')->get();
        return view('frontend.index',compact('categories','sliders','products'));
    }
    

         <!-- ============================================== SCROLL TABS ============================================== -->
          <div id="product-tabs-slider" class="scroll-tabs outer-top-vs wow fadeInUp">
            <div class="more-info-tab clearfix ">
              <h3 class="new-product-title pull-left">New Products</h3>
              <ul class="nav nav-tabs nav-tab-line pull-right" id="new-products-1">
                <li class="active"><a data-transition-type="backSlide" href="#all" data-toggle="tab">All</a></li>
               @foreach($categories as $category)
                <li><a data-transition-type="backSlide" href="#category{{ $category->id }}" data-toggle="tab">@if (session()->get('language') == 'hindi') {{ $category->category_name_hin }} @else {{ $category->category_name_en }} @endif</a></li>
               @endforeach
                {{-- <li><a data-transition-type="backSlide" href="#laptop" data-toggle="tab">Electronics</a></li>
                <li><a data-transition-type="backSlide" href="#apple" data-toggle="tab">Shoes</a></li> --}}
              </ul>
              <!-- /.nav-tabs --> 
            </div>
            <div class="tab-content outer-top-xs">
              <div class="tab-pane in active" id="all">
                <div class="product-slider">
                  <div class="owl-carousel home-owl-carousel custom-carousel owl-theme" data-item="4">
                    @foreach($products as $product)
                    <div class="item item-carousel">
                      <div class="products">
                        <div class="product">
                          <div class="product-image">
                            <div class="image"> <a href="detail.html"><img  src="{{ asset($product->product_thumbnail) }}" alt=""></a> </div>
                            <!-- /.image -->
                            
                            <div class="tag new"><span>new</span></div>
                          </div>
                          <!-- /.product-image -->
                          
                          <div class="product-info text-left">
                            <h3 class="name"><a href="detail.html">@if (session()->get('language') == 'hindi') {{ $product->product_name_hin }} @else {{ $product->product_name_en }} @endif</a></h3>
                            <div class="rating rateit-small"></div>
                            <div class="description"></div>
                            <div class="product-price"> <span class="price"> $450.99 </span> <span class="price-before-discount">$ 800</span> </div>
                            <!-- /.product-price --> 
                            
                          </div>
                          <!-- /.product-info -->
                          <div class="cart clearfix animate-effect">
                            <div class="action">
                              <ul class="list-unstyled">
                                <li class="add-cart-button btn-group">
                                  <button data-toggle="tooltip" class="btn btn-primary icon" type="button" title="Add Cart"> <i class="fa fa-shopping-cart"></i> </button>
                                  <button class="btn btn-primary cart-btn" type="button">Add to cart</button>
                                </li>
                                <li class="lnk wishlist"> <a data-toggle="tooltip" class="add-to-cart" href="detail.html" title="Wishlist"> <i class="icon fa fa-heart"></i> </a> </li>
                                <li class="lnk"> <a data-toggle="tooltip" class="add-to-cart" href="detail.html" title="Compare"> <i class="fa fa-signal" aria-hidden="true"></i> </a> </li>
                              </ul>
                            </div>
                            <!-- /.action --> 
                          </div>
                          <!-- /.cart --> 
                        </div>
                        <!-- /.product --> 
                        
                      </div>
                      <!-- /.products --> 
                    </div>
                    <!-- /.item -->
                    @endforeach

                  </div>
                  <!-- /.home-owl-carousel --> 
                </div>
                <!-- /.product-slider --> 
              </div>
              <!-- /.tab-pane -->



              @foreach($categories as $category)
              <div class="tab-pane" id="category{{ $category->id }}">
                <div class="product-slider">
                  <div class="owl-carousel home-owl-carousel custom-carousel owl-theme" data-item="4">
                   
@php
  $catwiseProduct = App\Models\Product::where('category_id',$category->id)->orderBy('id','DESC')->get();
@endphp                   
                   
                    @forelse($catwiseProduct as $product)
                    <div class="item item-carousel">
                      <div class="products">
                        <div class="product">
                          <div class="product-image">
                            <div class="image"> <a href="detail.html"><img  src="{{ asset($product->product_thumbnail) }}" alt=""></a> </div>
                            <!-- /.image -->
                            
                            <div class="tag new"><span>new</span></div>
                          </div>
                          <!-- /.product-image -->
                          
                          <div class="product-info text-left">
                            <h3 class="name"><a href="detail.html">@if (session()->get('language') == 'hindi') {{ $product->product_name_hin }} @else {{ $product->product_name_en }} @endif</a></h3>
                            <div class="rating rateit-small"></div>
                            <div class="description"></div>
                            <div class="product-price"> <span class="price"> $450.99 </span> <span class="price-before-discount">$ 800</span> </div>
                            <!-- /.product-price --> 
                            
                          </div>
                          <!-- /.product-info -->
                          <div class="cart clearfix animate-effect">
                            <div class="action">
                              <ul class="list-unstyled">
                                <li class="add-cart-button btn-group">
                                  <button data-toggle="tooltip" class="btn btn-primary icon" type="button" title="Add Cart"> <i class="fa fa-shopping-cart"></i> </button>
                                  <button class="btn btn-primary cart-btn" type="button">Add to cart</button>
                                </li>
                                <li class="lnk wishlist"> <a data-toggle="tooltip" class="add-to-cart" href="detail.html" title="Wishlist"> <i class="icon fa fa-heart"></i> </a> </li>
                                <li class="lnk"> <a data-toggle="tooltip" class="add-to-cart" href="detail.html" title="Compare"> <i class="fa fa-signal" aria-hidden="true"></i> </a> </li>
                              </ul>
                            </div>
                            <!-- /.action --> 
                          </div>
                          <!-- /.cart --> 
                        </div>
                        <!-- /.product --> 
                        
                      </div>
                      <!-- /.products --> 
                    </div>
                    <!-- /.item -->
                    @empty
                    <h5 class text-danger>No Product Found</h5>
                    @endforelse

                  </div>
                  <!-- /.home-owl-carousel --> 
                </div>
                <!-- /.product-slider --> 
              </div>
              <!-- /.tab-pane -->
              @endforeach



(186) Frontend Product Discount ,Product Price Show With Multiple Language Part 1

Here I continue working on the New Products tab with logic to identify a product as 
new or discounted and logic to display the discount price
                           @php
                              $amount = $product->selling_price - $product->discount_price;
                              $discount = ($amount/$product->selling_price) * 100;
                            @endphp

                            <div>
                              @if ($product->discount_price == NULL) 
                              <div class="tag new"><span>new</span></div>
                              @else
                              <div class="tag hot"><span>{{ round($discount) }}%</span></div>
                              @endif
                            </div>
                            
                          </div>
                          <!-- /.product-image -->
                          
                          <div class="product-info text-left">
                            <h3 class="name"><a href="detail.html">@if (session()->get('language') == 'hindi') {{ $product->product_name_hin }} @else {{ $product->product_name_en }} @endif</a></h3>
                            <div class="rating rateit-small"></div>
                            <div class="description"></div>
                            @if ($product->discount_price == NULL) 
                            <div class="product-price"> <span class="price"> ${{ $product->selling_price }} </span></div>
                            <!-- /.product-price --> 

                            @else
                            <div class="product-price"> <span class="price"> ${{ $product->discount_price }} </span> <span class="price-before-discount">${{ $product->selling_price }}</span> </div>
                            <!-- /.product-price --> 

                            @endif










(187) Frontend Product Discount ,Product Price Show With Multiple Language Part 2

Here I copied the changes from All products down to the individual products tab
or catwise Area
                    <div class="item item-carousel">
                      <div class="products">
                        <div class="product">
                          <div class="product-image">
                            <div class="image"> <a href="detail.html"><img  src="{{ asset($product->product_thumbnail) }}" alt=""></a> </div>
                            <!-- /.image -->
                            

                            @php
                              $amount = $product->selling_price - $product->discount_price;
                              $discount = ($amount/$product->selling_price) * 100;
                            @endphp

                            <div>
                              @if ($product->discount_price == NULL) 
                              <div class="tag new"><span>new</span></div>
                              @else
                              <div class="tag hot"><span>{{ round($discount) }}%</span></div>
                              @endif
                            </div>
                            
                          </div>
                          <!-- /.product-image -->
                          
                          <div class="product-info text-left">
                            <h3 class="name"><a href="detail.html">@if (session()->get('language') == 'hindi') {{ $product->product_name_hin }} @else {{ $product->product_name_en }} @endif</a></h3>
                            <div class="rating rateit-small"></div>
                            <div class="description"></div>
                            @if ($product->discount_price == NULL) 
                            <div class="product-price"> <span class="price"> ${{ $product->selling_price }} </span></div>
                            <!-- /.product-price --> 

                            @else
                            <div class="product-price"> <span class="price"> ${{ $product->discount_price }} </span> <span class="price-before-discount">${{ $product->selling_price }}</span> </div>
                            <!-- /.product-price --> 

                            @endif
                             
                          </div>
                          <!-- /.product-info -->
                          <div class="cart clearfix animate-effect">
                            <div class="action">
                              <ul class="list-unstyled">
                                <li class="add-cart-button btn-group">
                                  <button data-toggle="tooltip" class="btn btn-primary icon" type="button" title="Add Cart"> <i class="fa fa-shopping-cart"></i> </button>
                                  <button class="btn btn-primary cart-btn" type="button">Add to cart</button>
                                </li>
                                <li class="lnk wishlist"> <a data-toggle="tooltip" class="add-to-cart" href="detail.html" title="Wishlist"> <i class="icon fa fa-heart"></i> </a> </li>
                                <li class="lnk"> <a data-toggle="tooltip" class="add-to-cart" href="detail.html" title="Compare"> <i class="fa fa-signal" aria-hidden="true"></i> </a> </li>
                              </ul>
                            </div>
                            <!-- /.action --> 
                          </div>
                          <!-- /.cart --> 
                        </div>
                        <!-- /.product --> 
                        
                      </div>
                      <!-- /.products --> 
                    </div>




(188) Product Details Show Part 1

So I set up a product_details page I create a url link in index
<h3 class="name"><a href="{{ url('product/details/'.$product->id.'/'.$product->product_slug_en) }}">@if (session()->get('language') == 'hindi') {{ $product->product_name_hin }} @else {{ $product->product_name_en }} @endif</a></h3>

web.php
//// Frontend Product Details ////
Route::get('/product/details/{id}/{slug}', [IndexController::class, 'ProductDetails']); 


IndexController
    public function ProductDetails($id,$slug){
        $product = Product::findOrFail($id);
        return view('frontend.product.product_details',compact('product'));
    }

And I create the page using details.html from the frontend templates



(189) Product Details Show Part 2
Here I added the pricing and descriptions


(190) Product Details Show Part 3
Here I created a join to MultiImg from products and made the product details 
a bit more interactive.

MultiImg Model
class MultiImg extends Model
{
    use HasFactory;
    protected $guarded = [];

    public function product(){
        return $this->belongsTo(Product::class, 'product_id', 'id');
    }
}

IndexController
   public function ProductDetails($id,$slug){
        $product = Product::findOrFail($id);
        $multiImag = MultiImg::where('product_id',$id)->get();
        return view('frontend.product.product_details',compact('product', 'multiImag'));
    }

Look for diffs in index.blade and product_details.blade


(191) Featured Product Show

Here I cloned the changes from IndexController for NEW PRODUCTS into
a retrieval of featured PRODUCTS and then cloned the display card for NEW PRODUCTS replacing
our display card for FEATURED products with the differance being that the foreach loop
cycles over the featured retrieval from IndexController
   public function index(){
        $products = Product::where('status',1)->orderBy('id','DESC')->limit(6)->get();
        $sliders = Slider::where('status',1)->orderBy('id','DESC')->limit(3)->get();
        $categories = Category::orderBy('category_name_en','ASC')->get();
        $featured = Product::where('featured',1)->orderBy('id','DESC')->limit(6)->get();

        return view('frontend.index',compact('categories','sliders','products','featured'));
    }

(192) Hot Deals Product Show
Here I add the hot_deals lookup to IndexController then on the hot deals card
I integrate the fields and discount logic from the featured as product foreach loop.  We couldn't really clone the card
but I were able to borrow items.  I had to mend some css as well to make the new product position properly

    public function index(){
        $products = Product::where('status',1)->orderBy('id','DESC')->limit(6)->get();
        $sliders = Slider::where('status',1)->orderBy('id','DESC')->limit(3)->get();
        $categories = Category::orderBy('category_name_en','ASC')->get();
        $featured = Product::where('featured',1)->orderBy('id','DESC')->limit(6)->get();
        $hot_deals = Product::where('hot_deals',1)->orderBy('id','DESC')->limit(3)->get();

        return view('frontend.index',compact('categories','sliders','products','featured','hot_deals'));
    }

            @foreach($hot_deals as $product)
              <div class="item">
                <div class="products">
                  <div class="hot-deal-wrapper">
                    <div class="image"> <img src="{{ asset($product->product_thumbnail) }}" alt=""> </div>
                    @php
                    $amount = $product->selling_price - $product->discount_price;
                    $discount = ($amount/$product->selling_price) * 100;
                  @endphp

                  
                    @if ($product->discount_price == NULL) 
                    <div class="tagx new"><span>new</span></div>
                    @else
                    <div class="sale-offer-tag"><span>{{ round($discount) }}%<br>
                    off</span></div>
                    @endif
                  
                    <div class="timing-wrapper">
                      <div class="box-wrapper">
                        <div class="date box"> <span class="key">120</span> <span class="value">DAYS</span> </div>
                      </div>
                      <div class="box-wrapper">
                        <div class="hour box"> <span class="key">20</span> <span class="value">HRS</span> </div>
                      </div>
                      <div class="box-wrapper">
                        <div class="minutes box"> <span class="key">36</span> <span class="value">MINS</span> </div>
                      </div>
                      <div class="box-wrapper hidden-md">
                        <div class="seconds box"> <span class="key">60</span> <span class="value">SEC</span> </div>
                      </div>
                    </div>
                  </div>
                  <!-- /.hot-deal-wrapper -->
                  
                  <div class="product-info text-left m-t-20">
                    <h3 class="name"><a href="{{ url('product/details/'.$product->id.'/'.$product->product_slug_en) }}">@if (session()->get('language') == 'hindi') {{ $product->product_name_hin }} @else {{ $product->product_name_en }} @endif</a></h3>
                    <div class="rating rateit-small"></div>
                    @if ($product->discount_price == NULL) 
                    <div class="product-price"> <span class="price"> ${{ $product->selling_price }} </span></div>
                    <!-- /.product-price --> 
                    @else
                    <div class="product-price"> <span class="price"> ${{ $product->discount_price }} </span> <span class="price-before-discount">${{ $product->selling_price }}</span> </div>
                    <!-- /.product-price --> 
                    @endif
                     
                  </div>
                  <!-- /.product-info -->
                  
                  <div class="cart clearfix animate-effect">
                    <div class="action">
                      <div class="add-cart-button btn-group">
                        <button class="btn btn-primary icon" data-toggle="dropdown" type="button"> <i class="fa fa-shopping-cart"></i> </button>
                        <button class="btn btn-primary cart-btn" type="button">Add to cart</button>
                      </div>
                    </div>
                    <!-- /.action --> 
                  </div>
                  <!-- /.cart --> 
                </div>
              </div>
              @endforeach

.tagx  {
  font-size: 10px;
  font-weight: 700;
  line-height: 40px;
  width: 40px;
  height: 40px;
  text-transform: uppercase;
  top: 2.5%;
  z-index: 100;
  -webkit-border-radius: 50px;
  -moz-border-radius: 50px;
  border-radius: 50px;
  color: #fff;
  right: 10px;
  /*11px;*/
  text-align: center;
  position: absolute;
}
.tagx.new {
  background: #46aad7;
}

(193) Special Offer Product Show

   public function index(){
        $products = Product::where('status',1)->orderBy('id','DESC')->limit(6)->get();
        $sliders = Slider::where('status',1)->orderBy('id','DESC')->limit(3)->get();
        $categories = Category::orderBy('category_name_en','ASC')->get();
        $featured = Product::where('featured',1)->orderBy('id','DESC')->limit(6)->get();
        $hot_deals = Product::where('hot_deals',1)->orderBy('id','DESC')->limit(3)->get();
        $special_offer = Product::where('special_offer',1)->orderBy('id','DESC')->limit(6)->get();
       

        return view('frontend.index',compact('categories','sliders','products','featured','hot_deals','special_offer'));
    }
 
                <div class="item">
                  <div class="products special-product">
                    @foreach($special_offer as $product)
                    <div class="product">
                      <div class="product-micro">
                        <div class="row product-micro-row">
                          <div class="col col-xs-5">
                            <div class="product-image">
                              <div class="image"> <a href="{{ url('product/details/'.$product->id.'/'.$product->product_slug_en) }}"> <img src="{{ asset($product->product_thumbnail) }}" alt=""> </a> </div>
                              <!-- /.image --> 
                              
                            </div>
                            <!-- /.product-image --> 
                          </div>
                          <!-- /.col -->
                          <div class="col col-xs-7">
                            <div class="product-info">
                              <h3 class="name"><a href="{{ url('product/details/'.$product->id.'/'.$product->product_slug_en) }}">@if (session()->get('language') == 'hindi') {{ $product->product_name_hin }} @else {{ $product->product_name_en }} @endif</a></h3>
                              <div class="rating rateit-small"></div>
                              <div class="product-price"> <span class="price">${{ $product->selling_price }}</span> </div>
                              <!-- /.product-price --> 
                              
                            </div>
                          </div>
                          <!-- /.col --> 
                        </div>
                        <!-- /.product-micro-row --> 
                      </div>
                      <!-- /.product-micro --> 
                      
                    </div>
                    @endforeach
                  </div>
                </div>
               
(194) Special Deals Product Show
            
    public function index(){
        $products = Product::where('status',1)->orderBy('id','DESC')->limit(6)->get();
        $sliders = Slider::where('status',1)->orderBy('id','DESC')->limit(3)->get();
        $categories = Category::orderBy('category_name_en','ASC')->get();
        $featured = Product::where('featured',1)->orderBy('id','DESC')->limit(6)->get();
        $hot_deals = Product::where('hot_deals',1)->orderBy('id','DESC')->limit(3)->get();
        $special_offer = Product::where('special_offer',1)->orderBy('id','DESC')->limit(6)->get();
        $special_deals = Product::where('special_deals',1)->orderBy('id','DESC')->limit(3)->get();

        return view('frontend.index',compact('categories','sliders','products','featured','hot_deals','special_offer','special_deals'));
    }
                   @foreach($special_deals as $product)
                    <div class="product">
                      <div class="product-micro">
                        <div class="row product-micro-row">
                          <div class="col col-xs-5">
                            <div class="product-image">
                              <div class="image"> <a href="{{ url('product/details/'.$product->id.'/'.$product->product_slug_en) }}"> <img src="{{ asset($product->product_thumbnail) }}"  alt=""> </a> </div>
                              <!-- /.image --> 
                              
                            </div>
                            <!-- /.product-image --> 
                          </div>
                          <!-- /.col -->
                          <div class="col col-xs-7">
                            <div class="product-info">
                              <h3 class="name"><a href="{{ url('product/details/'.$product->id.'/'.$product->product_slug_en) }}">@if (session()->get('language') == 'hindi') {{ $product->product_name_hin }} @else {{ $product->product_name_en }} @endif</a></h3>
                              <div class="rating rateit-small"></div>
                              <div class="product-price"> <span class="price">${{ $product->selling_price }}</span> </div>
                              <!-- /.product-price --> 
                              
                            </div>
                          </div>
                          <!-- /.col --> 
                        </div>
                        <!-- /.product-micro-row --> 
                      </div>
                      <!-- /.product-micro --> 
                      
                    </div>
                    @endforeach

(194b)  I did a little extra work to expand paging in special offers and special deals
        $special_offer = Product::where('special_offer',1)->orderBy('id','DESC')->limit(9)->get();
        $special_deals = Product::where('special_deals',1)->orderBy('id','DESC')->limit(9)->get();

                <div class="item">
                  <div class="products special-product">
                  @php
                    $imagecount = 0;
                  @endphp
                    @foreach($special_offer as $product)
                    @php
                    $imagecount = $imagecount + 1;
                  @endphp 
               @if ($imagecount == 4 || $imagecount == 7 ) 
              </div>
              </div>     
              <div class="item">
                <div class="products special-product">
               @endif



(195) Product Show With Skip Category & Brand Part 1

We did a data extract in the IndexController using the skip keyword and
also extracted the contents of products for that category then display them in index.blade.
I basically cloned FEATURED PRODUCTS
        $skip_category_0 = Category::skip(3)->first();
        $skip_product_0 = Product::where('status',1)->where('category_id',$skip_category_0->id)->orderBy('id','DESC')->get();
         <section class="section featured-product wow fadeInUp">
            <h3 class="section-title">@if (session()->get('language') == 'hindi') {{ $skip_category_0->category_name_hin }} @else {{ $skip_category_0->category_name_en }} @endif</h3>
            <div class="owl-carousel home-owl-carousel custom-carousel owl-theme outer-top-xs">
              
              @foreach($skip_product_0 as $product)
              <div class="item item-carousel">
                <div class="products">
                  <div class="product">
                    <div class="product-image">
                      <div class="image"> <a href="{{ url('product/details/'.$product->id.'/'.$product->product_slug_en) }}"><img  src="{{ asset($product->product_thumbnail) }}" alt=""></a> </div>
                      <!-- /.image -->
                      

                      @php
                        $amount = $product->selling_price - $product->discount_price;
                        $discount = ($amount/$product->selling_price) * 100;
                      @endphp

                      <div>
                        @if ($product->discount_price == NULL) 
                        <div class="tag new"><span>new</span></div>
                        @else
                        <div class="tag hot"><span>{{ round($discount) }}%</span></div>
                        @endif
                      </div>
                      
                    </div>
                    <!-- /.product-image -->
                    
                    <div class="product-info text-left">
                      <h3 class="name"><a href="{{ url('product/details/'.$product->id.'/'.$product->product_slug_en) }}">@if (session()->get('language') == 'hindi') {{ $product->product_name_hin }} @else {{ $product->product_name_en }} @endif</a></h3>
                      <div class="rating rateit-small"></div>
                      <div class="description"></div>
                      @if ($product->discount_price == NULL) 
                      <div class="product-price"> <span class="price"> ${{ $product->selling_price }} </span></div>
                      <!-- /.product-price --> 

                      @else
                      <div class="product-price"> <span class="price"> ${{ $product->discount_price }} </span> <span class="price-before-discount">${{ $product->selling_price }}</span> </div>
                      <!-- /.product-price --> 

                      @endif
                       
                    </div>
                    <!-- /.product-info -->
                    <div class="cart clearfix animate-effect">
                      <div class="action">
                        <ul class="list-unstyled">
                          <li class="add-cart-button btn-group">
                            <button data-toggle="tooltip" class="btn btn-primary icon" type="button" title="Add Cart"> <i class="fa fa-shopping-cart"></i> </button>
                            <button class="btn btn-primary cart-btn" type="button">Add to cart</button>
                          </li>
                          <li class="lnk wishlist"> <a data-toggle="tooltip" class="add-to-cart" href="detail.html" title="Wishlist"> <i class="icon fa fa-heart"></i> </a> </li>
                          <li class="lnk"> <a data-toggle="tooltip" class="add-to-cart" href="detail.html" title="Compare"> <i class="fa fa-signal" aria-hidden="true"></i> </a> </li>
                        </ul>
                      </div>
                      <!-- /.action --> 
                    </div>
                    <!-- /.cart --> 
                  </div>
                  <!-- /.product --> 
                  
                </div>
                <!-- /.products --> 
              </div>
              <!-- /.item -->
              @endforeach

            </div>
            <!-- /.home-owl-carousel --> 
          </section>





(196) Product Show With Skip Category & Brand Part 2

Rinse and Repeat with brand
       $skip_brand_1 = Brand::skip(1)->first();
        $skip_brand_product_1 = Product::where('status',1)->where('brand_id',$skip_brand_1->id)->orderBy('id','DESC')->get();

I also made a fix in ProductController to prevent long desc from updating with html tags.




(197) Update Product HotDeals Get Only Discount Product

Added additional filter to ensure hot deals actually has a discount
$hot_deals = Product::where('hot_deals',1)->where('discount_price','!=',NULL)->orderBy('id','DESC')->limit(3)->get();

(198) Product Tags Show


I made some fixes to enhance paging on special deals and special offers
        $special_offer = Product::where('special_offer',1)->orderBy('id','DESC')->limit(30)->get();
        $special_deals = Product::where('special_deals',1)->orderBy('id','DESC')->limit(30)->get();

                @php
                    $imagecount = 0;
                  @endphp
                    @foreach($special_offer as $product)
                    @php
                    $imagecount = $imagecount + 1;
                  @endphp 
                 @if ($imagecount == 4 ) 
                 @php
                   $imagecount = 1;
                 @endphp
              </div>
              </div>     
              <div class="item">
                <div class="products special-product">
               @endif


I created a common folder for shared includes on the frontend and place the product tags
code from index to frontend.common.product_tags and added code to pull unique tags
from products.
@php
    $tags_en = App\Models\Product::groupBy('product_tags_en')->select('product_tags_en')->get();
    $tags_hin = App\Models\Product::groupBy('product_tags_hin')->select('product_tags_hin')->get();

@endphp


<div class="sidebar-widget product-tag wow fadeInUp">
    <h3 class="section-title">@if (session()->get('language') == 'hindi')   @else Product tags @endif</h3>
    <div class="sidebar-widget-body outer-top-xs">
        <div class="tag-list">
            @if (session()->get('language') == 'hindi')  
            @foreach($tags_hin as $tags)
            <a class="item" title="{{ str_replace(',',' ',$tags->product_tags_hin) }}" href="category.html">{{ str_replace(',',' ',$tags->product_tags_hin) }}</a>
            @endforeach
            @else 
            @foreach($tags_en as $tags) 
            <a class="item" title="{{ str_replace(',',' ',$tags->product_tags_en) }}" href="category.html">{{ str_replace(',',' ',$tags->product_tags_en) }}</a>
            @endforeach
            @endif

        </div>
        <!-- /.tag-list -->
    </div>
    <!-- /.sidebar-widget-body -->
</div>
<!-- /.sidebar-widget -->


(199) Tag Wise Product Show Part 1
I added url links to the tags
           @if (session()->get('language') == 'hindi')  
            @foreach($tags_hin as $tags)
            <a class="item" title="{{ str_replace(',',' ',$tags->product_tags_hin) }}" href="{{ url('product/tag/'.$tags->product_tags_hin) }}">{{ str_replace(',',' ',$tags->product_tags_hin) }}</a>
            @endforeach
            @else 
            @foreach($tags_en as $tags) 
            <a class="item" title="{{ str_replace(',',' ',$tags->product_tags_en) }}" href="{{ url('product/tag/'.$tags->product_tags_en) }}">{{ str_replace(',',' ',$tags->product_tags_en) }}</a>
            @endforeach
            @endif


web.php
//// Frontend Product Tags Page ////
Route::get('/product/tag/{id}', [IndexController::class, 'TagWiseProduct']);

IndexController
    public function TagWiseProduct($tag) {
        $products = Product::where('status',1)->where('product_tags_en',$tag)->where('product_tags_hin',$tag)->orderBy('id','DESC')->get();
        return view('frontend.tags.tags_view',compact('products'));
    }

I created frontend.tags.tags_view

I copied category.html into tags_view

Since "Categories" top navigation is the same "Categories" top navigation in index
I placed "Categories" in common as vertical_menu and included it both places
          <!-- ================================== TOP NAVIGATION ================================== --> 
        @include('frontend.common.vertical_menu');  
          <!-- ================================== TOP NAVIGATION : END ================================== --> 



(200) Tag Wise Product Show Part 2
In tags_view 

I added Shop By categories to the TagWiseProduct method
    public function TagWiseProduct($tag) {
        $products = Product::where('status',1)->where('product_tags_en',$tag)->where('product_tags_hin',$tag)->orderBy('id','DESC')->get();
        $categories = Category::orderBy('category_name_en','ASC')->get();
        return view('frontend.tags.tags_view',compact('products','categories'));
    }

I made the categories dynamic
                <div class="widget-header">
                  <h4 class="widget-title">Category</h4>
                </div>
                <div class="sidebar-widget-body">
                  <div class="accordion">
                    @foreach($categories as $category)   
                    <div class="accordion-group">
                      <div class="accordion-heading"> <a href="#collapse{{ $category->id }}" data-toggle="collapse" class="accordion-toggle collapsed">@if (session()->get('language') == 'hindi') {{ $category->category_name_hin }} @else {{ $category->category_name_en }} @endif</a> </div>
                      <!-- /.accordion-heading -->
                      <div class="accordion-body collapse" id="collapse{{ $category->id }}" style="height: 0px;">
                        <div class="accordion-inner">
                            @php
                            $subcategories = App\Models\SubCategory::where('category_id',$category->id)->orderBy('subcategory_name_en','ASC')->get();
                            @endphp 
                        @foreach($subcategories as $subcategory)                            
                          <ul>
                            <li><a href="#">@if (session()->get('language') == 'hindi') {{ $subcategory->subcategory_name_hin }} @else {{ $subcategory->subcategory_name_en }} @endif</a></li>
                          </ul>
                        @endforeach
                        
                        </div>
                        <!-- /.accordion-inner --> 
                      </div>
                      <!-- /.accordion-body --> 
                    </div>
                    <!-- /.accordion-group -->
                    @endforeach                    
                  </div>
                  <!-- /.accordion --> 

I made the product tags dynamic
@include('frontend.common.product_tags');

I moved the testimonials to common.testimonials and included them back in to tags_view and index
            <!----------- Testimonials------------->
            
            @include('frontend.common.testimonials');  

(201) Tag Wise Product Show Part 3

Here we made our Product GRID VIEW dynamic reusing code from index 
          {{-- //////////////////////// Product Grid View Start //////////////////// --}}

              <div class="tab-pane active " id="grid-container">
                <div class="category-product">
                  <div class="row">


                    @foreach($products as $product) 
                    <div class="col-sm-6 col-md-4 wow fadeInUp">
                      <div class="products">
                        <div class="product">
                          <div class="product-image">
                            <div class="image"> <a href="detail.html"><img  src="{{ asset($product->product_thumbnail) }}" alt=""></a> </div>
                            <!-- /.image -->
                            @php
                              $amount = $product->selling_price - $product->discount_price;
                              $discount = ($amount/$product->selling_price) * 100;
                            @endphp

                            <div>
                              @if ($product->discount_price == NULL) 
                              <div class="tag new"><span>new</span></div>
                              @else
                              <div class="tag hot"><span>{{ round($discount) }}%</span></div>
                              @endif
                            </div>                            
                            
                          </div>
                          <!-- /.product-image -->
                          
                          <div class="product-info text-left">
                            <h3 class="name"><a href="{{ url('product/details/'.$product->id.'/'.$product->product_slug_en) }}">@if (session()->get('language') == 'hindi') {{ $product->product_name_hin }} @else {{ $product->product_name_en }} @endif</a></h3>
                            <div class="rating rateit-small"></div>
                            <div class="description"></div>
                            @if ($product->discount_price == NULL) 
                            <div class="product-price"> <span class="price"> ${{ $product->selling_price }} </span></div>
                            <!-- /.product-price --> 

                            @else
                            <div class="product-price"> <span class="price"> ${{ $product->discount_price }} </span> <span class="price-before-discount">${{ $product->selling_price }}</span> </div>
                            <!-- /.product-price --> 

                            @endif

                             
                          </div>
                          <!-- /.product-info -->
                          <div class="cart clearfix animate-effect">
                            <div class="action">
                              <ul class="list-unstyled">
                                <li class="add-cart-button btn-group">
                                  <button class="btn btn-primary icon" data-toggle="dropdown" type="button"> <i class="fa fa-shopping-cart"></i> </button>
                                  <button class="btn btn-primary cart-btn" type="button">@if (session()->get('language') == 'hindi')    @else Add to cart @endif</button>
                                </li>
                                <li class="lnk wishlist"> <a class="add-to-cart" href="detail.html" title="Wishlist"> <i class="icon fa fa-heart"></i> </a> </li>
                                <li class="lnk"> <a class="add-to-cart" href="detail.html" title="Compare"> <i class="fa fa-signal"></i> </a> </li>
                              </ul>
                            </div>
                            <!-- /.action --> 
                          </div>
                          <!-- /.cart --> 
                        </div>
                        <!-- /.product --> 
                        
                      </div>
                      <!-- /.products --> 
                    </div>
                    <!-- /.item -->
                    @endforeach


                  </div>
                  <!-- /.row --> 
                </div>
                <!-- /.category-product --> 
                
              </div>
              <!-- /.tab-pane -->
              {{-- //////////////////////// Product Grid View End //////////////////// --}}



(202) Tag Wise Product Show Part 4

Here I am making the LIST VIEW dynamic in tags_view
              {{-- //////////////////////// Product List View Start //////////////////// --}}
              <div class="tab-pane "  id="list-container">
                <div class="category-product">


                  @foreach($products as $product)   
                  <div class="category-product-inner wow fadeInUp">
                    <div class="products">
                      <div class="product-list product">
                        <div class="row product-list-row">
                          <div class="col col-sm-4 col-lg-4">
                            <div class="product-image">
                              <div class="image"> <img src="{{ asset($product->product_thumbnail) }}" alt=""> </div>
                            </div>
                            <!-- /.product-image --> 
                          </div>
                          <!-- /.col -->
                          <div class="col col-sm-8 col-lg-8">
                            <div class="product-info">
                              <h3 class="name"><a href="{{ url('product/details/'.$product->id.'/'.$product->product_slug_en) }}">@if (session()->get('language') == 'hindi') {{ $product->product_name_hin }} @else {{ $product->product_name_en }} @endif</a></h3>
                              <div class="rating rateit-small"></div>
                              @if ($product->discount_price == NULL) 
                              <div class="product-price"> <span class="price"> ${{ $product->selling_price }} </span></div>
                              <!-- /.product-price -->  
                              @else
                              <div class="product-price"> <span class="price"> ${{ $product->discount_price }} </span> <span class="price-before-discount">${{ $product->selling_price }}</span> </div>
                              <!-- /.product-price --> 
                              @endif  
                              <div class="description m-t-10">@if (session()->get('language') == 'hindi') {{ $product->short_desc_hin }} @else {{ $product->short_desc_en }} @endif</div>
                              <div class="cart clearfix animate-effect">
                                <div class="action">
                                  <ul class="list-unstyled">
                                    <li class="add-cart-button btn-group">
                                      <button class="btn btn-primary icon" data-toggle="dropdown" type="button"> <i class="fa fa-shopping-cart"></i> </button>
                                      <button class="btn btn-primary cart-btn" type="button">@if (session()->get('language') == 'hindi')    @else Add to cart @endif</button>
                                    </li>
                                    <li class="lnk wishlist"> <a class="add-to-cart" href="detail.html" title="Wishlist"> <i class="icon fa fa-heart"></i> </a> </li>
                                    <li class="lnk"> <a class="add-to-cart" href="detail.html" title="Compare"> <i class="fa fa-signal"></i> </a> </li>
                                  </ul>
                                </div>
                                <!-- /.action --> 
                              </div>
                              <!-- /.cart --> 
                              
                            </div>
                            <!-- /.product-info --> 
                          </div>
                          <!-- /.col --> 
                        </div>
                        <!-- /.product-list-row -->
                        @php
                        $amount = $product->selling_price - $product->discount_price;
                        $discount = ($amount/$product->selling_price) * 100;
                      @endphp

                      <div>
                        @if ($product->discount_price == NULL) 
                        <div class="tag new"><span>new</span></div>
                        @else
                        <div class="tag hot"><span>{{ round($discount) }}%</span></div>
                        @endif
                      </div>                            
                      </div>
                      <!-- /.product-list --> 
                    </div>
                    <!-- /.products --> 
                  </div>
                  <!-- /.category-product-inner -->
                  @endforeach
                  
                </div>
                <!-- /.category-product --> 
              </div>
              <!-- /.tab-pane #list-container --> 
              {{-- //////////////////////// Product List View End //////////////////// --}}



(203) Product Tags Paginate

IndexController TagWiseProduct method
$products = Product::where('status',1)->where('product_tags_en',$tag)->where('product_tags_hin',$tag)->orderBy('id','DESC')->paginate(3);
And using links we get previous and next calls back to IndexController
                <div class="pagination-container">
                <ul class="list-inline list-unstyled">
                {{ $products->links() }} 
                </ul>
                  <!-- /.list-inline --> 
                </div>
                <!-- /.pagination-container --> </div>


(204) SubCategory Wise Product Show

I made fixes to product_add and product_edit to add custom messages for the dropdown selects


vertical_menu
<a href="{{ url('subcategory/product/'.$subcategory->id.'/'.$subcategory->subcategory_slug_en) }}">


web.php
//Frontend SubCategory Wise Data
Route::get('/subcategory/product/{subcat_id}/{slug}', [IndexController::class, 'SubCatWiseProduct']); 


IndexController
   public function SubCatWiseProduct($subcat_id, $slug){
        $products = Product::where('status',1)->where('subcategory_id',$subcat_id)->orderBy('id','DESC')->paginate(3);
        $categories = Category::orderBy('category_name_en','ASC')->get();
        return view('frontend.product.subcategory_view',compact('products','categories'));

    }


  frontend.product.subcategory_view 
    I copied in tags_view

vertical_menu, header, and subcategory_view gets this under subcategory
<a href="{{ url('subcategory/product/'.$subcategory->id.'/'.$subcategory->subcategory_slug_en) }}">


(205) SubsubCategory Wise Product Show

in vertical_menu and header I added this url to the subsubcategory
{{ url('subsubcategory/product/'.$subsubcategory->id.'/'.$subsubcategory->subsubcategory_slug_en) }}

web.php
//Frontend SubSubCategory Wise Data
Route::get('/subsubcategory/product/{subsubcat_id}/{slug}', [IndexController::class, 'SubSubCatWiseProduct']); 


IndexController
public function SubSubCatWiseProduct($subsubcat_id, $slug){
        $products = Product::where('status',1)->where('subsubcategory_id',$subsubcat_id)->orderBy('id','DESC')->paginate(6);
        $categories = Category::orderBy('category_name_en','ASC')->get();
        return view('frontend.product.sub_subcategory_view',compact('products','categories'));

    }

frontend.product.sub_subcategory_view
I copied in subcategory_view and changed the title

(206) Display Product Size and Color Select Option

To allow dropdown selection of size and color from product_details
I copied a dropdown from Frontend templates shopping-cart.html
and created these
                               {{-- //// Add Product Color And Product Size //// --}}

                                <div class="row">


                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label class="info-title control-label">@if (session()->get('language') == 'hindi')    @else Choose Color @endif
                                                <span></span></label>
                                            <select class="form-control unicase-form-control selectpicker">
                                                <option selected="" disabled="">--@if (session()->get('language') == 'hindi')    @else Choose Color @endif--</option>

                                                @if (session()->get('language') == 'hindi')
                                                    @foreach ($product_color_hin as $color)
                                                        <option value="{{ $color }}">{{ $color }}
                                                        </option>
                                                    @endforeach
                                                @else
                                                    @foreach ($product_color_en as $color)
                                                        <option value="{{ $color }}">{{ ucwords($color) }}
                                                        </option>
                                                    @endforeach
                                                @endif

                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label class="info-title control-label">@if (session()->get('language') == 'hindi')   @else Choose Size @endif
                                                <span></span></label>
                                            <select class="form-control unicase-form-control selectpicker">
                                                <option selected="" disabled="">--@if (session()->get('language') == 'hindi')   @else Choose Size @endif--</option>
                                                @if (session()->get('language') == 'hindi')
                                                    @foreach ($product_size_hin as $size)
                                                        <option value="{{ $size }}">{{ $size }}
                                                        </option>
                                                    @endforeach
                                                @else
                                                    @foreach ($product_size_en as $size)
                                                        <option value="{{ $size }}">{{ ucwords($size) }}
                                                        </option>
                                                    @endforeach
                                                @endif
                                            </select>
                                        </div>
                                    </div>

                                </div><!-- /.row -->

                                {{-- //// END Add Product Color And Product Size //// --}}





(207) Related Product Show

IndexController ProductDetails
$cat_id = $product->category_id;
$relatedProduct = Product::where('category_id',$cat_id)->where('id','!=',$id)->orderBy('id','DESC')->get();
return view('frontend.product.product_details',compact('product', 'multiImag','product_color_en','product_color_hin','product_size_en','product_size_hin','relatedProduct'));

product_details
<!-- ============================================== UPSELL PRODUCTS ============================================== -->
<section class="section featured-product wow fadeInUp">
    <h3 class="section-title">Related products</h3>
    <div class="owl-carousel home-owl-carousel upsell-product custom-carousel owl-theme outer-top-xs">


        @foreach ($relatedProduct as $product )						
        <div class="item item-carousel">
            <div class="products">

                <div class="product">
                    <div class="product-image">
                        <div class="image">
                            <a href="{{ url('product/details/'.$product->id.'/'.$product->product_slug_en) }}"><img  src="{{ asset($product->product_thumbnail) }}" alt=""></a>
                        </div><!-- /.image -->
                        @php
                        $amount = $product->selling_price - $product->discount_price;
                        $discount = ($amount/$product->selling_price) * 100;
                        @endphp

                        <div>
                        @if ($product->discount_price == NULL) 
                        <div class="tag new"><span>new</span></div>
                        @else
                        <div class="tag sale"><span>{{ round($discount) }}%</span></div>
                        @endif
                        </div>
                        {{-- <div class="tag sale"><span>sale</span></div> --}}
                    </div><!-- /.product-image -->


                    <div class="product-info text-left">
                        <h3 class="name"><a href="{{ url('product/details/'.$product->id.'/'.$product->product_slug_en) }}">@if (session()->get('language') == 'hindi') {{ $product->product_name_hin }} @else {{ $product->product_name_en }} @endif</a></h3>
                        <div class="rating rateit-small"></div>
                        <div class="description"></div>

                        
                            @if ($product->discount_price == NULL) 
                            <div class="product-price"> <span class="price"> ${{ $product->selling_price }} </span></div>
                            <!-- /.product-price --> 
        
                            @else
                            <div class="product-price"> <span class="price"> ${{ $product->discount_price }} </span> <span class="price-before-discount">${{ $product->selling_price }}</span> </div>
                            <!-- /.product-price --> 
        
                            @endif
                            

                        

                    </div><!-- /.product-info -->
                    <div class="cart clearfix animate-effect">
                        <div class="action">
                            <ul class="list-unstyled">
                                <li class="add-cart-button btn-group">
                                    <button class="btn btn-primary icon" data-toggle="dropdown"
                                        type="button">
                                        <i class="fa fa-shopping-cart"></i>
                                    </button>
                                    <button class="btn btn-primary cart-btn" type="button">Add to
                                        cart</button>

                                </li>

                                <li class="lnk wishlist">
                                    <a class="add-to-cart" href="detail.html" title="Wishlist">
                                        <i class="icon fa fa-heart"></i>
                                    </a>
                                </li>

                                <li class="lnk">
                                    <a class="add-to-cart" href="detail.html" title="Compare">
                                        <i class="fa fa-signal"></i>
                                    </a>
                                </li>
                            </ul>
                        </div><!-- /.action -->
                    </div><!-- /.cart -->
                </div><!-- /.product -->

            </div><!-- /.products -->
        </div><!-- /.item -->
        @endforeach

    </div><!-- /.home-owl-carousel -->
</section><!-- /.section -->
<!-- ============================================== UPSELL PRODUCTS : END ============================================== -->


(208) Include Hot Deal

I put the HOT DEALS section in commin and included it in index and product_details



(209) Product Modal Design Part 1  ADD TO Cart

main_master
I have added a modal a row with three columns containing a bootstrap card a bootstrap item list and a bootstrap dropdown select
<!-- Add to Cart Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
<div class="row">
  <div class=col-md-4>
    <div class="card" style="width: 18rem;">
      <img class="card-img-top" src="..." alt="Card image cap">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
        <a href="#" class="btn btn-primary">Go somewhere</a>
      </div>
    </div>
  </div>
  <div class=col-md-4>
    <ul class="list-group">
      <li class="list-group-item">Cras justo odio</li>
      <li class="list-group-item">Dapibus ac facilisis in</li>
      <li class="list-group-item">Morbi leo risus</li>
      <li class="list-group-item">Porta ac consectetur ac</li>
      <li class="list-group-item">Vestibulum at eros</li>
    </ul>
  </div>
  <div class=col-md-4>
    <div class="form-group">
      <label for="exampleFormControlSelect1">Example select</label>
      <select class="form-control" id="exampleFormControlSelect1">
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>5</option>
      </select>
    </div>
  </div>

</div> 






       
      </div>    {{-- //// End Modal Body ///// --}}
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
<!-- End Add to Cart Modal -->


(210) Product Modal Design Part 2

Here I have fleshed out a static framework for our modal
<!-- Add to Cart Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Product Name</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
<div class="row">
  <div class="col-md-4">
    <div class="card" style="width: 18rem;">

      <img src="" class="card-img-top" alt="..." style"height: 200px; width: 200px;">

    </div>
  </div>
  <div class="col-md-4">
    <ul class="list-group">
      <li class="list-group-item">Product Price: </li>
      <li class="list-group-item">Product Code:</li>
      <li class="list-group-item">Category: </li>
      <li class="list-group-item">Brand: </li>
      <li class="list-group-item">Stock</li>
    </ul>
  </div>
  <div class="col-md-4">
    <div class="form-group">
      <label for="exampleFormControlSelect1">Choose Color</label>
      <select class="form-control" id="exampleFormControlSelect1">
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>5</option>
      </select>
    </div>
    <div class="form-group">
      <label for="exampleFormControlSelect1">Choose Size</label>
      <select class="form-control" id="exampleFormControlSelect1">
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>5</option>
      </select>
    </div>
    <div class="form-group">
      <label for="exampleFormControlSelect1">Quantity</label>
      <input type="number" class="form-control" name="x" id="x" value="1" min="1">
    </div>
    <button type="submit" class="btn btn-primary mb-2">Add to Cart</button>
  </div>

</div> 
      
      </div>    {{-- //// End Modal Body ///// --}}
    </div>
  </div>
</div>
<!-- End Add to Cart Modal -->



(211) Product View Modal With Ajax Part 1

index
<button class="btn btn-primary icon" type="button" title="Add Cart" data-toggle="modal" data-target="#exampleModal"  id="{{ $product->id }}" onclick="productView(this.id)"> <i class="fa fa-shopping-cart"></i> </button>


main_master
<!-- Add to Cart Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Product Name</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
<div class="row">
  <div class="col-md-4">
    <div class="card" style="width: 18rem;">

      <img src="" class="card-img-top" alt="..." style"height: 200px; width: 200px;">

    </div>
  </div>
  <div class="col-md-4">
    <ul class="list-group">
      <li class="list-group-item">Product Price: </li>
      <li class="list-group-item">Product Code:</li>
      <li class="list-group-item">Category: </li>
      <li class="list-group-item">Brand: </li>
      <li class="list-group-item">Stock</li>
    </ul>
  </div>
  <div class="col-md-4">
    <div class="form-group">
      <label for="exampleFormControlSelect1">Choose Color</label>
      <select class="form-control" id="exampleFormControlSelect1">
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>5</option>
      </select>
    </div>
    <div class="form-group">
      <label for="exampleFormControlSelect1">Choose Size</label>
      <select class="form-control" id="exampleFormControlSelect1">
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>5</option>
      </select>
    </div>
    <div class="form-group">
      <label for="exampleFormControlSelect1">Quantity</label>
      <input type="number" class="form-control" name="x" id="x" value="1" min="1">
    </div>
    <button type="submit" class="btn btn-primary mb-2">Add to Cart</button>
  </div>

</div> 
      
      </div>    {{-- //// End Modal Body ///// --}}
    </div>
  </div>
</div>
<!-- End Add to Cart Modal -->

<script type="text/javascript">
$.ajaxSetup({
  headers:{
    'X-CSRF-TOKEN':$('meta[name="csrf-token"]').attr('content')
  }

})


function productView(id){
 // alert(id)
 $.ajax({
   type: 'GET',
   url: '/product/view/modal/'+id,
   dataType:'json',
   success:function(data){
     
   }
 })
}
</script>

web.php
//Product View Modal with Ajax
Route::get('/product/view/modal/{id}', [IndexController::class, 'ProductViewAjax']); 


IndexController
public function ProductViewAjax($id){
        $product = Product::findOrFail($id);

        $color = $product->product_color_en;
        $product_color = explode(',', $color);

        $size = $product->product_size_en;
        $product_size = explode(',', $size);

        return response()->json(array(
            'product' => $product,
            'color' => $product_color,
            'size' => $product_size,

        ));


    }


(212) Product View Modal With Ajax Part 2


main_master
<!-- Add to Cart Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"><span id="pname"></span></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
<div class="row">
  <div class="col-md-4">
    <div class="card" style="width: 18rem;">

      <img src="" class="card-img-top" alt="..." style="height: 200px; width: 180px;" id="pimage">

    </div>
  </div>
  <div class="col-md-4">
    <ul class="list-group">
      <li class="list-group-item">Product Price: <strong id="price"></strong></li>
      <li class="list-group-item">Product Code: <strong id="pcode"></strong></li>
      <li class="list-group-item">Category: <strong id="pcategory"></strong></li>
      <li class="list-group-item">Brand: <strong id="pbrand"></strong></li>
      <li class="list-group-item">Stock: <strong id="pstock"></strong></li>
    </ul>
  </div>
  <script type="text/javascript">
$.ajaxSetup({
  headers:{
    'X-CSRF-TOKEN':$('meta[name="csrf-token"]').attr('content')
  }

})


function productView(id){
 // alert(id)
 $.ajax({
   type: 'GET',
   url: '/product/view/modal/'+id,
   dataType:'json',
   success:function(data){
    // console.log(data)
    $('#pname').text(data.product.product_name_en);
    $('#price').text(data.product.selling_price);
    $('#pcode').text(data.product.product_code);
    $('#pcategory').text(data.product.category.category_name_en);
    $('#pbrand').text(data.product.brand.brand_name_en);
    $('#pimage').attr('src','/'+data.product.product_thumbnail);
    
   }
 })
}
</script>

Product model
class Product extends Model
{
    use HasFactory;
    protected $guarded = [];

    public function category(){
        return $this->belongsTo(Category::class, 'category_id', 'id');
    }

    public function brand(){
        return $this->belongsTo(Brand::class, 'brand_id', 'id');
    }
}


IndexController
      $product = Product::with('category','brand')->findOrFail($id);





(213) Product View Modal With Ajax Part 3
main_master
    <div class="form-group" id="colorArea">
      <label for="exampleFormControlSelect1">Choose Color</label>
      <select class="form-control" id="color" name="color">
      </select>
    </div>
    <div class="form-group" id="sizeArea">
      <label for="exampleFormControlSelect1">Choose Size</label>
      <select class="form-control" id="size" name="size">
      </select>
    </div>

       // Color
    $('select[name="color"]').empty();
    $.each(data.color,function(key,value){
      $('select[name="color"]').append('<option value=" '+value+' ">'+value+'</option>')
      if (data.color == ""){
      $('#colorArea').hide();
    }else{
      $('#colorArea').show();
    }
    })

      // Size
      $('select[name="size"]').empty();
    $.each(data.size,function(key,value){
      $('select[name="size"]').append('<option value=" '+value+' ">'+value+'</option>')
    if (data.size == ""){
      $('#sizeArea').hide();
    }else{
      $('#sizeArea').show();
    }

    (214) Product View Modal With Ajax Part 4

       if (data.product.discount_price == null) {
      $('#pprice').text('');
      $('#oldprice').text('');
       $('#pprice').text(data.product.selling_price);
       
    }else{
      $('#pprice').text('');
      $('#oldprice').text('');
      $('#pprice').text(data.product.discount_price);  
      $('#oldprice').text(data.product.selling_price);

    }

    if (data.product.product_qty > 0 ){
      $('#available').text('');
      $('#stockout').text('');
      $('#available').text('available');
    }else{
      $('#available').text('');
      $('#stockout').text('');
      $('#stockout').text('stockout');
    }


    (215) Increase Modal Width
     bootstrap.min.css
     model-content width: 800px; right: 100px;



    (216) Product Add To Cart With Ajax Part 1

composer require bumbummen99/shoppingcart
php artisan vendor:publish --provider="Gloudemans\Shoppingcart\ShoppingcartServiceProvider" --tag="config"

php artisan make:controller Frontend/CartController

web.php
use App\Http\Controllers\Frontend\CartController;

Main_master
// Start Add to Cart
function addToCart(){
  var product_name = $('#pname').text();
  var id = $('#product_id').val();
  var color = $('#color option:selected').text();
  var size = $('#size option:selected').text();
  var quantity = $('#qty').val();
  $.ajax({
    type: "POST",
    dataType: 'json',
    data:{
      color:color, size:size, quantity:quantity, product_name:product_name
    },
    url: "/cart/data/store/"+id,
    success:function(data){
      console.log(data)
    }
  })
}


// End Add to Cart

(217) Product Add To Cart With Ajax Part 2

web.php
// Add To Cart Store Data
Route::get('/cart/data/store/{id}', [CartController::class, 'AddToCart']); 


CartController
use Gloudemans\Shoppingcart\Facades\Cart;
  public function AddToCart(Request $request, $id){
        $product = Product::findOrFail($id);
        if ($product->discount_price == NULL) {
            Cart::add([
                'id' => $id, 
                'name' => $request->product_name, 
                'qty' => $request->quantity, 
                'price' => $product->selling_price, 
                'weight' => 1, 
                'options' => [
                    'image' => $product->product_thumbnail,
                    'color' => $request->color,
                    'size' => $request->size,
                ],
                ]);
                return response()->json(['success' => 'Successfully Added to Your Cart']);
        }else{
            Cart::add([
                'id' => $id, 
                'name' => $request->product_name, 
                'qty' => $request->quantity, 
                'price' => $product->discount_price, 
                'weight' => 1, 
                'options' => [
                    'image' => $product->product_thumbnail,
                    'color' => $request->color,
                    'size' => $request->size,
                ],
                ]);
                return response()->json(['success' => 'Successfully Added to Your Cart']);

        }

    }

main_master
// Start Add to Cart
function addToCart(){
  var product_name = $('#pname').text();
  var id = $('#product_id').val();
  var color = $('#color option:selected').text();
  var size = $('#size option:selected').text();
  var quantity = $('#qty').val();
  $.ajax({
    type: "POST",
    dataType: 'json',
    data:{
      color:color, size:size, quantity:quantity, product_name:product_name
    },
    url: "/cart/data/store/"+id,
    success:function(data){
     $('#closeModal').click();
      console.log(data)
    }
  })
}


// End Add to Cart



(218) Add to Cart Sweetalert Message Setup
main_master
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script> 
     // Start Message
 const Toast  =  Swal.mixin({
   toast: true,
      position: 'top-end',
      icon: 'success',
      showConfirmButton: false,
      timer: 3000,
 })  
      if ($.isEmptyObject(data.error)) {
        Toast.fire({
          type: 'success',
          title: data.success,
        })
        
      } else {
        Toast.fire({
          type: 'error',
          title: data.error,
        })
      }
    
     // End Message


(219) Update Add to Cart In Product Details Page


I hooked up one of the carts on details page using the javascript in main_master the
 route to CartController and AddToCart in CartController and CartController is talking to bumbum carts





(220) Mini Cart Read Cart Product With Ajax Part 1

main_master
<script type="text/javascript">
// Start MiniCart
function miniCart(){
   $.ajax({
    type: 'GET',
    url: '/product/mini/cart',
    dataType: 'json',
    success:function(response){
           console.log(response)
    }

  })
}
// End MiniCart
</script>

web.php
// Add To Cart Store Data
Route::get('/product/mini/cart/', [CartController::class, 'AddMiniCart']); 


CartController  I get API examples from https://packagist.org/packages/bumbummen99/shoppingcart
   public function AddMiniCart(){
        $carts = Cart::content();
        $cartQty = Cart::count();
        $cartTotal = Cart::total();

        return response()->json(array(
            'carts' => $carts,
            'cartQty' => $cartQty,
            'cartTotal' => round($cartTotal),
        
        
        ));
    }




If I add to cart then put in this url I should see the json cart data displayed
http://127.0.0.1:8000/product/mini/cart


(221) Mini Cart Read Cart Product With Ajax Part 2

main_master the real lesson here is in using the grave accent or backtick to enclose a template definition `  as opposed to '.  Always use ` for a template define.
function miniCart(){
   $.ajax({
    type: 'GET',
    url: '/product/mini/cart',
    dataType: 'json',
    success:function(response){
      var miniCart = ""
           $.each(response.carts, function(key,value){
            miniCart += `<div class="cart-item product-summary">
                                    <div class="row">
                                        <div class="col-xs-4">
                                            <div class="image"> <a href="detail.html"><img
                                                        src="{{ asset('frontend/assets/images/cart.jpg') }}"
                                                        alt=""></a> </div>
                                        </div>
                                        <div class="col-xs-7">
                                            <h3 class="name"><a
                                                    href="index.php?page-detail">@if (session()->get('language') == 'hindi')   @else Simple Product @endif
                                                </a></h3>
                                            <div class="price">$600.00</div>
                                        </div>
                                        <div class="col-xs-1 action"> <a href="#"><i class="fa fa-trash"></i></a>
                                        </div>
                                    </div>
                                </div>
                                <!-- /.cart-item -->
                                <div class="clearfix"></div>
                                <hr>`

           });
           $('#miniCart').html(miniCart);
    }

  })
}
miniCart();
// End MiniCart
</script>

header
        <!--   // Mini Cart Start with Ajax -->
     <div id="miniCart">

     </div>

 <!--   // End Mini Cart Start with Ajax -->

(222) Mini Cart Count All Quantity And Subtotal With Ajax

See code diffs

(223) Mini Cart Product Remove With Ajax

main_master
<button type="submit" id="${value.rowId}" onclick="miniCartRemove(this.id)"><i class="fa fa-trash"></i></button> </div>

//// Mini Cart Remove Start

function miniCartRemove(rowId){
        $.ajax({
            type: 'GET',
            url: '/minicart/product-remove/'+rowId,
            dataType:'json',
            success:function(data){
            miniCart();

             // Start Message 
                const Toast = Swal.mixin({
                      toast: true,
                      position: 'top-end',
                      icon: 'success',
                      showConfirmButton: false,
                      timer: 3000
                    })
                if ($.isEmptyObject(data.error)) {
                    Toast.fire({
                        type: 'success',
                        title: data.success
                    })

                }else{
                    Toast.fire({
                        type: 'error',
                        title: data.error
                    })

                }

                // End Message 

            }
        });

    }



//// Mini Cart Remove End

web.php
// Remove Mini Cart
Route::get('/minicart/product-remove/{rowId}', [CartController::class, 'RemoveMiniCart']); 


CartController
    public function RemoveMiniCart($rowId){
        Cart::remove($rowId);
        return response()->json(['success' => 'Product Successfully Removed from Cart']);
    }



(224) Wishlist Product Add To Wishlist Part 1

php artisan make:controller User/WishlistController
php artisan make:model Wishlist -m

in the migration
    public function up()
    {
        Schema::create('wishlists', function (Blueprint $table) {
            $table->id();
            $table->unsignedBigInteger('user_id');
            $table->unsignedBigInteger('product_id');
            $table->timestamps();
        });
    }

in the model
class Wishlist extends Model
{
    use HasFactory;
    protected $guarded = [];
}

php artisan migrate

index
<button class="btn btn-primary icon" type="button" title="Wishlist" 
id="{{ $product->id }}" onclick="addToWishlist(this.id)"> <i class="icon fa fa-heart"></i> </button> 

main_master



web.php

// Add To Wishlist
Route::post('/add-to-wishlist/{product_id}', [CartController::class, 'AddToWishlist']); 

CartController

(225) Wishlist Product Add To Wishlist Part 2

main_master
{{-- //// Add Wishlist Page //// --}}
<script type="text/javascript">
  function addToWishlist(product_id){
    $.ajax({
      type: "POST",
      dataType: 'json',
      url: "/add-to-wishlist/"+product_id,

      success:function(data){
                     // Start Message 
                     const Toast = Swal.mixin({
                      toast: true,
                      position: 'top-end',
 
                      showConfirmButton: false,
                      timer: 3000
                    })
                if ($.isEmptyObject(data.error)) {
                    Toast.fire({
                        type: 'success',
                        icon: 'success',
                        title: data.success
                    })

                }else{
                    Toast.fire({
                        type: 'error',
                        icon: 'error',
                        title: data.error
                    })

                }

                // End Message 

      }
    })

  }

</script>


{{-- //// End Add Wishlist Page //// --}}

CartController
   public function AddToWishlist(Request $request, $product_id){
        if (Auth::check()) {
            $exists = Wishlist::where('user_id',Auth::id())->where('product_id',$product_id)->first();
            
            Wishlist::insert([
                'user_id' => Auth::id(),
                'product_id' => $product_id,
                'created_at' => Carbon::now(),

            ]);
        
            return response()->json(['success' => 'Item Successfully Added to Your Wishlist']);

        } else {
            return response()->json(['error' => 'Please Login to Your Account First']);
        }
        

    }


(226) Wishlist Product Add To Wishlist Part 3





































